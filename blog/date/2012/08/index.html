<!DOCTYPE html>
<html lang="zh-CN" class="no-js">
<head>
	<meta charset="UTF-8">
	<base href="https://www.biglee.cn/">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>2012年8月 &#8211; 网站建设技术集锦</title>
<link rel='dns-prefetch' href='//s.w.org'>
<link rel="alternate" type="application/rss+xml" title="网站建设技术集锦 &raquo; Feed" href="/feed" />
<link rel="alternate" type="application/rss+xml" title="网站建设技术集锦 &raquo; 评论Feed" href="/comments/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='genericons-css'  href='/wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='/wp-content/themes/twentysixteen/style.css?ver=4.6' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		</head>

<body class="archive date hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">跳至内容</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="/" rel="home">网站建设技术集锦</a></p>
											<p class="site-description">涉及网站建设、服务器维护等IT技术的博客</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">菜单</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="主菜单">
								<div class="menu-%e5%af%bc%e8%88%aa-container"><ul id="menu-%e5%af%bc%e8%88%aa" class="primary-menu"><li id="menu-item-309" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-309"><a href="/blog/category/web_development">网站技术</a></li>
<li id="menu-item-310" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-310"><a href="/blog/category/pc_technology">PC技术</a></li>
<li id="menu-item-311" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-311"><a href="/blog/category/orther">杂货铺</a></li>
<li id="menu-item-312" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-312"><a href="/blog/category/entertainment">影音娱乐</a></li>
<li id="menu-item-313" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-313"><a href="/blog/category/life">网络生活</a></li>
<li id="menu-item-314" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-314"><a href="/blog/category/digest">文摘</a></li>
<li id="menu-item-315" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-315"><a href="/blog/category/database">数据库</a></li>
<li id="menu-item-316" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-316"><a href="/blog/category/network">网络安全</a></li>
<li id="menu-item-317" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-317"><a href="/blog/category/management">管理营运</a></li>
<li id="menu-item-318" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-318"><a href="/blog/category/dotnet">.Net</a></li>
<li id="menu-item-323" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-323"><a href="/about_me">关于我</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">月份：2012年8月</h1>			</header><!-- .page-header -->

			
<article id="post-222" class="post-222 post type-post status-publish format-standard hentry category-pc_technology">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2012/222.html" rel="bookmark">分布式系统架构Hadoop介绍</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　Hadoop 由 Apache Software Foundation 公司于 2005 年秋天作为Lucene的子项目Nutch的一部分正式引入。它受到最先由 Google Lab 开发的 Map/Reduce 和 Google File System(GFS) 的启发。2006 年 3 月份，Map/Reduce 和 Nutch Distributed File System (NDFS) 分别被纳入称为 Hadoop 的项目中。<br />
　　Hadoop 是最受欢迎的在 Internet 上对搜索关键字进行内容分类的工具，但它也可以解决许多要求极大伸缩性的问题。例如，如果您要 grep 一个 10TB 的巨型文件，会出现什么情况？在传统的系统上，这将需要很长的时间。但是 Hadoop 在设计时就考虑到这些问题，采用并行执行机制，因此能大大提高效率。<br />
　　Hadoop 有许多元素构成。其最底部是 Hadoop Distributed File System（HDFS），它存储 Hadoop 集群中所有存储节点上的文件。HDFS（对于本文）的上一层是 MapReduce 引擎，该引擎由 JobTrackers 和 TaskTrackers 组成。</p>
<p>优点：</p>
<p>　　Hadoop 是一个能够对大量数据进行分布式处理的软件框架。但是 Hadoop 是以一种可靠、高效、可伸缩的方式进行处理的。Hadoop 是可靠的，因为它假设计算元素和存储会失败，因此它维护多个工作数据副本，确保能够针对失败的节点重新分布处理。Hadoop 是高效的，因为它以并行的方式工作，通过并行处理加快处理速度。Hadoop 还是可伸缩的，能够处理 PB 级数据。此外，Hadoop 依赖于社区服务器，因此它的成本比较低，任何人都可以使用。<br />
　　Hadoop是一个能够让用户轻松架构和使用的分布式计算平台。用户可以轻松地在Hadoop上开发和运行处理海量数据的应用程序。它主要有以下几个优点： <br />
　　1.高可靠性。Hadoop按位存储和处理数据的能力值得人们信赖；<br />
　　2.高扩展性。Hadoop是在可用的计算机集簇间分配数据并完成计算任务的，这些集簇可以方便地扩展到数以千计的节点中。<br />
　　3.高效性。Hadoop能够在节点之间动态地移动数据，并保证各个节点的动态平衡，因此处理速度非常快。<br />
　　4.高容错性。Hadoop能够自动保存数据的多个副本，并且能够自动将失败的任务重新分配。 　　Hadoop带有用 Java 语言编写的框架，因此运行在 Linux 生产平台上是非常理想的。Hadoop 上的应用程序也可以使用其他语言编写，比如 C++。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2012/222.html" rel="bookmark"><time class="entry-date published" datetime="2012-08-24T02:09:43+00:00">2012年8月24日</time><time class="updated" datetime="2012-08-24T02:11:00+00:00">2012年8月24日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/pc_technology" rel="category tag">PC技术</a></span><span class="comments-link"><a href="/blog/2012/222.html#respond"><span class="screen-reader-text">于分布式系统架构Hadoop介绍</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-221" class="post-221 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2012/221.html" rel="bookmark">代码之美 &#8211; 如何写出优雅的PHP代码</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　写出优秀的程序代码是一门艺术，要想如此，就必须在一开始就养成良好的编程习惯。良好的编程习惯不仅有助于项目初期的设计（如模块化），还可以使你编写的代码更易于理解，从而使代码的维护工作更轻松、更省力。不好的编程习惯则会造成代码bug，并且会使以后的维护工作困难重重。&nbsp;</p>
<p>&nbsp;　　本文以PHP语言为例，介绍一些良好的编程习惯，希望能够对你有所帮助。&nbsp;</p>
<p>1.&nbsp;规划代码结构&nbsp;</p>
<p>　　优秀的PHP代码应该有清晰的结构。PHP面向对象的特性允许程序员将应用程序分解为函数或方法。如果代码晦涩难懂，你也可以添加注释，使代码的功能一目了然。编码时应尽量将前端代码（HTML/CSS/Javascript）与应用程序的服务端规则分开，或者你可以使用遵循MVC模式的PHP框架来构建你的应用程序。</p>
<p>2.&nbsp;编码风格统一&nbsp;</p>
<p>　　优秀的PHP代码应该具备统一的风格。比如，为变量和函数制定统一的命名规则，为循环任务（比如数据库存取、错误处理）制定统一的接入标准，或者保持有规律的代码缩进，这些编码习惯都可以让别人阅读代码更加轻松。&nbsp;</p>
<p>&nbsp;3.&nbsp;可移植性&nbsp;</p>
<p>　　优秀的PHP代码应该具有可移植性。程序员应学会运用PHP现有的特性（比如魔术引号和短标签等），应该了解产品需求，适应PHP的特点，保证写出的PHP代码具有可移植性和跨平台性。&nbsp;</p>
<p>&nbsp;4.&nbsp;代码安全性&nbsp;</p>
<p>　　优秀的PHP代码应该具有安全性。PHP5具有卓越的特性和灵活性，但应用程序的安全往往掌握在程序员的手中。作为专业的PHP开发人员，应该对安全漏洞有一些深入了解，常见的安全漏洞有跨站脚本攻击（XSS）、跨站请求伪造（CSRF）、代码注入漏洞和字符编码漏洞等。使用PHP中的特定功能和函数（比如mysql_real_escape_string等）可以帮助程序员写出安全的代码。&nbsp;</p>
<p>&nbsp;5.&nbsp;添加注释&nbsp;</p>
<p>　　代码注释是代码中的重要组成部分，它解释了函数运行的目的，这种注释会在代码以后的维护中提供非常有用的帮助。&nbsp;</p>
<p>&nbsp;6.&nbsp;避免简写标记&nbsp;</p>
<p>　　应使用完整的起始标记，不推荐使用简写的起始标记。&nbsp;</p>
<p>&nbsp;7.&nbsp;用单引号代替双引号&nbsp;</p>
<p>　　由于PHP会对双引号中的内容进行变量搜索，为了避免这种搜索带来的性能影响，程序员应该使用单引号引用字符串。&nbsp;</p>
<p>&nbsp;8.&nbsp;转义输出&nbsp;</p>
<p>　　应该在htmlspecialchars函数中使用ENT_QUOTES参数，保证单引号（&#39;）也可以被转义。尽管没有规定必须这样做，但这是一个好习惯。&nbsp;</p>
<p>&nbsp;9.&nbsp;使用逗号隔开字符串输出&nbsp;</p>
<p>　　字符串连接符（.）可以将单一的字符串传递给echo语句进行输出，与之相比，逗号可以实现echo语句中字符串的分别输出，这对PHP来说是一个性能改善。&nbsp;</p>
<p>&nbsp;10.&nbsp;在输出前检查传递值&nbsp;</p>
<p>　　应该记得在输出前检查$_GET[&#39;query&#39;]&nbsp;的传递值。使用isset函数或是empty函数可以检查变量值是否为空。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2012/221.html" rel="bookmark"><time class="entry-date published" datetime="2012-08-22T23:37:34+00:00">2012年8月22日</time><time class="updated" datetime="-001-11-30T00:00:00+00:00">-0001年11月30日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2012/221.html#respond"><span class="screen-reader-text">于代码之美 &#8211; 如何写出优雅的PHP代码</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-220" class="post-220 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2012/220.html" rel="bookmark">Apache日志配置详解</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p><strong>Apache日志按时间分段记录</strong></p>
<p>在apache的配置文件httpd.conf中找到<br />
ErrorLog logs/error_log及CustomLog logs/access_log common</p>
<p>Linux系统配置方法：<br />
将其改为<br />
ErrorLog &ldquo;| /usr/local/apache/bin/rotatelogs /home/logs/www/%Y_%m_%d_error_log 86400 480&Prime;<br />
CustomLog &ldquo;| /usr/local/apache/bin/rotatelogs /home/logs/www/%Y_%m_%d_access_log 86400 480&Prime; common</p>
<p>Windows系统下配置方法：<br />
ErrorLog &ldquo;|bin/rotatelogs.exe logs/site1/error-%y%m%d.log 86400 480&Prime;<br />
CustomLog &ldquo;|bin/rotatelogs.exe logs/site1/access-%y%m%d.log 86400 480&Prime; common</p>
<p>其中common为日志记录格式里设置的名称。<br />
若有多个站点，则应将以上配置写到各站点的VirtualHost节点中，这样才会分开文件记录各站点日志。</p>
<p>附rotatelogs说明</p>
<p>rotatelogs logfile [ rotationtime [ offset ]] | [ filesizeM ]</p>
<p>选项<br />
logfile<br />
它加上基准名就是日志文件名。如果logfile中包含&rsquo;%&rsquo;，则它会被视为用于的strftime(3)的格式字串；否则，它会被自动加上以秒为单位的.nnnnnnnnnn后缀。这两种格式都表示新的日志开始使用的时间。<br />
rotationtime<br />
日志文件回卷的以秒为单位的间隔时间，86400 表示一天，即每天生成一个新的日志文件。<br />
offset<br />
相对于UTC的时差的分钟数。如果省略，则默认为0，并使用UTC时间。比如，要指定UTC时差为-5小时的地区的当地时间，则此参数应为-300，北京时间为+8时间，应设置为480。这样日志里的时间才会和服务器上的时间一致，方便查看日志。<br />
filesizeM<br />
指定回卷时以兆字节为单位的后缀字母M的文件大小，而不是指定回卷时间或时差。<br />
&nbsp;</p>
<p><strong>apache日志记录格式的设置</strong></p>
<p>定制日志文件的格式涉及到两个指令，即LogFormat指令和CustomLog指令，默认httpd.conf文件提供了关于这两个指令的几个示例。</p>
<p>LogFormat指令定义格式并为格式指定一个名字，以后我们就可以直接引用这个名字。CustomLog指令设置日志文件，并指明日志文件所用的格式（通常通过格式的名字）。</p>
<p>LogFormat指令的功能是定义日志格式并为它指定一个名字。例如，在默认的httpd.conf文件中，我们可以找到下面这行代码：</p>
<p>LogFormat &quot;%h %l %u %t &quot;%r&quot; %&gt;s %b&quot;&nbsp;common<br />
该指令创建了一种名为&ldquo;common&rdquo;的日志格式，日志的格式在双引号包围的内容中指定。格式字符串中的每一个变量代表着一项特定的信息，这些信息按照格式串规定的次序写入到日志文件。</p>
<p>Apache文档已经给出了所有可用于格式串的变量及其含义，下面是其译文：<br />
%&hellip;a: 远程IP地址<br />
%&hellip;A: 本地IP地址<br />
%&hellip;B: 已发送的字节数，不包含HTTP头<br />
%&hellip;b: CLF格式的已发送字节数量，不包含HTTP头。例如当没有发送数据时，写入&lsquo;-&rsquo;而不是0。<br />
%&hellip;{FOOBAR}e: 环境变量FOOBAR的内容<br />
%&hellip;f: 文件名字<br />
%&hellip;h: 远程主机<br />
%&hellip;H 请求的协议<br />
%&hellip;{Foobar}i: Foobar的内容，发送给服务器的请求的标头行。<br />
%&hellip;l: 远程登录名字（来自identd，如提供的话）<br />
%&hellip;m 请求的方法<br />
%&hellip;{Foobar}n: 来自另外一个模块的注解&ldquo;Foobar&rdquo;的内容<br />
%&hellip;{Foobar}o: Foobar的内容，应答的标头行<br />
%&hellip;p: 服务器响应请求时使用的端口<br />
%&hellip;P: 响应请求的子进程ID。<br />
%&hellip;q 查询字符串（如果存在查询字符串，则包含&ldquo;?&rdquo;后面的部分；否则，它是一个空字符串。）<br />
%&hellip;r: 请求的第一行<br />
%&hellip;s: 状态。对于进行内部重定向的请求，这是指*原来*请求 的状态。如果用%&hellip;&gt;s，则是指后来的请求。<br />
%&hellip;t: 以公共日志时间格式表示的时间（或称为标准英文格式）<br />
%&hellip;{format}t: 以指定格式format表示的时间<br />
%&hellip;T: 为响应请求而耗费的时间，以秒计<br />
%&hellip;u: 远程用户（来自auth；如果返回状态（%s）是401则可能是伪造的）<br />
%&hellip;U: 用户所请求的URL路径<br />
%&hellip;v: 响应请求的服务器的ServerName<br />
%&hellip;V: 依照UseCanonicalName设置得到的服务器名字&nbsp;<br />
&nbsp;</p>
<p>在所有上面列出的变量中，&ldquo;&hellip;&rdquo;表示一个可选的条件。如果没有指定条件，则变量的值将以&ldquo;-&rdquo;取代。分析前面来自默认httpd.conf文件的 LogFormat指令示例，可以看出它创建了一种名为&ldquo;common&rdquo;的日志格式，其中包括：远程主机，远程登录名字，远程用户，请求时间，请求的第一 行代码，请求状态，以及发送的字节数。</p>
<p>有时候我们只想在日志中记录某些特定的、已定义的信息，这时就要用到&ldquo;&hellip;&rdquo;。如果在&ldquo;%&rdquo;和变量之间放入了一个或者多个HTTP状态代码，则只有当请 求返回的状态代码属于指定的状态代码之一时，变量所代表的内容才会被记录。例如，如果我们想要记录的是网站的所有无效链接，那么可以使用：<br />
LogFormat %404{Referer}i BrokenLinks</p>
<p>反之，如果我们想要记录那些状态代码不等于指定值的请求，只需加入一个&ldquo;!&rdquo;符号即可：</p>
<p>LogFormat %!200U SomethingWrong</p>
<p><strong>&nbsp;专门记录某个蜘蛛记录</strong></p>
<p>SetEnvIfNoCase User-Agent Baiduspider baidu_robot<br />
LogFormat &ldquo;%h %t &rdquo;%r&rdquo; %&gt;s %b&rdquo; robot<br />
linux下<br />
CustomLog &ldquo;|/usr/local/apache2.2.0/bin/rotatelogs /usr/local/apache2.2.0/logs/baidu_%Y%m%d.txt 86400 480&Prime; robot env=baidu_robot<br />
windows下<br />
CustomLog &ldquo;|bin/rotatelogs.exe logs/baidu_%Y%m%d.txt 86400 480&Prime; robot env=baidu_robot<br />
这样在logs目录下，就会每天产生baidu_年月日.txt的日志了，每条的记录和下面的类似：<br />
61.135.168.14 [22/Oct/2008:22:21:26 +0800] &ldquo;GET / HTTP/1.1&Prime; 200 8427</p>
<p><strong>去掉日志中的图片、js、css、swf文件</strong></p>
<p>&lt;FilesMatch&nbsp;&quot;.(ico|gif|jpg|png|bmp|swf|css|js)&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;SetEnv&nbsp;IMAG&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&lt;/FilesMatch&gt;<br />
&nbsp;&nbsp;CustomLog&nbsp;&quot;|bin/cronolog.exe&nbsp;logs/cpseadmin/access_%Y%m%d.log&quot;&nbsp;combined&nbsp;env=!IMAG</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2012/220.html" rel="bookmark"><time class="entry-date published" datetime="2012-08-14T21:26:40+00:00">2012年8月14日</time><time class="updated" datetime="2012-08-14T09:30:00+00:00">2012年8月14日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2012/220.html#respond"><span class="screen-reader-text">于Apache日志配置详解</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-2" class="widget widget_search">
<form role="search" method="get" class="search-form" action="/">
	<label>
		<span class="screen-reader-text">搜索：</span>
		<input type="search" class="search-field" placeholder="搜索…" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">搜索</span></button>
</form>
</section>		<section id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">近期文章</h2>		<ul>
					<li>
				<a href="/blog/2016/307.html">curl与file_get_contents访问远程接口慢的解决</a>
						</li>
					<li>
				<a href="/blog/2016/306.html">PHP中Notice: iconv(): Unknown error (84) 的解决办法</a>
						</li>
					<li>
				<a href="/blog/2016/305.html">微信大文件的清理</a>
						</li>
					<li>
				<a href="/blog/2015/304.html">博客貌似被黑了，有空换PHP的</a>
						</li>
					<li>
				<a href="/blog/2014/303.html">使用socket方式连接Nginx优化php-fpm性能</a>
						</li>
				</ul>
		</section>		<section id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widget-title">近期评论</h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">七月的路人甲</span>发表在《<a href="/blog/2007/57.html#comment-113">看《西游记》悟团队建设</a>》</li><li class="recentcomments"><span class="comment-author-link">七月的路人甲</span>发表在《<a href="/blog/2007/58.html#comment-112">讯时2.70漏洞－对讯时新闻发布系统的艰难突破</a>》</li><li class="recentcomments"><span class="comment-author-link">sunchili</span>发表在《<a href="/blog/2012/208.html#comment-111">VideoShot.exe停止工作的解决办法</a>》</li><li class="recentcomments"><span class="comment-author-link">嫁给风的女孩</span>发表在《<a href="/blog/2012/207.html#comment-109">Jinitiator控件IE崩溃及Jinitiator界面汉字方框的解决办法</a>》</li><li class="recentcomments"><span class="comment-author-link">李三</span>发表在《<a href="/blog/2013/240.html#comment-108">商务领航定制网关(EG692HW)电信管理员密码获取方法</a>》</li></ul></section><section id="archives-2" class="widget widget_archive"><h2 class="widget-title">文章归档</h2>		<ul>
			<li><a href='/blog/date/2016/01'>2016年一月</a></li>
	<li><a href='/blog/date/2015/09'>2015年九月</a></li>
	<li><a href='/blog/date/2014/11'>2014年十一月</a></li>
	<li><a href='/blog/date/2014/10'>2014年十月</a></li>
	<li><a href='/blog/date/2014/07'>2014年七月</a></li>
	<li><a href='/blog/date/2014/06'>2014年六月</a></li>
	<li><a href='/blog/date/2014/05'>2014年五月</a></li>
	<li><a href='/blog/date/2014/04'>2014年四月</a></li>
	<li><a href='/blog/date/2014/03'>2014年三月</a></li>
	<li><a href='/blog/date/2014/02'>2014年二月</a></li>
	<li><a href='/blog/date/2014/01'>2014年一月</a></li>
	<li><a href='/blog/date/2013/12'>2013年十二月</a></li>
	<li><a href='/blog/date/2013/09'>2013年九月</a></li>
	<li><a href='/blog/date/2013/08'>2013年八月</a></li>
	<li><a href='/blog/date/2013/07'>2013年七月</a></li>
	<li><a href='/blog/date/2013/06'>2013年六月</a></li>
	<li><a href='/blog/date/2013/05'>2013年五月</a></li>
	<li><a href='/blog/date/2013/04'>2013年四月</a></li>
	<li><a href='/blog/date/2012/12'>2012年十二月</a></li>
	<li><a href='/blog/date/2012/11'>2012年十一月</a></li>
	<li><a href='/blog/date/2012/09'>2012年九月</a></li>
	<li><a href='/blog/date/2012/08'>2012年八月</a></li>
	<li><a href='/blog/date/2012/07'>2012年七月</a></li>
	<li><a href='/blog/date/2012/06'>2012年六月</a></li>
	<li><a href='/blog/date/2012/05'>2012年五月</a></li>
	<li><a href='/blog/date/2012/04'>2012年四月</a></li>
	<li><a href='/blog/date/2012/03'>2012年三月</a></li>
	<li><a href='/blog/date/2012/01'>2012年一月</a></li>
	<li><a href='/blog/date/2011/11'>2011年十一月</a></li>
	<li><a href='/blog/date/2011/09'>2011年九月</a></li>
	<li><a href='/blog/date/2011/08'>2011年八月</a></li>
	<li><a href='/blog/date/2011/07'>2011年七月</a></li>
	<li><a href='/blog/date/2011/02'>2011年二月</a></li>
	<li><a href='/blog/date/2010/09'>2010年九月</a></li>
	<li><a href='/blog/date/2010/08'>2010年八月</a></li>
	<li><a href='/blog/date/2010/07'>2010年七月</a></li>
	<li><a href='/blog/date/2010/06'>2010年六月</a></li>
	<li><a href='/blog/date/2009/12'>2009年十二月</a></li>
	<li><a href='/blog/date/2009/10'>2009年十月</a></li>
	<li><a href='/blog/date/2009/08'>2009年八月</a></li>
	<li><a href='/blog/date/2009/06'>2009年六月</a></li>
	<li><a href='/blog/date/2009/05'>2009年五月</a></li>
	<li><a href='/blog/date/2009/04'>2009年四月</a></li>
	<li><a href='/blog/date/2009/03'>2009年三月</a></li>
	<li><a href='/blog/date/2009/01'>2009年一月</a></li>
	<li><a href='/blog/date/2008/12'>2008年十二月</a></li>
	<li><a href='/blog/date/2008/11'>2008年十一月</a></li>
	<li><a href='/blog/date/2008/10'>2008年十月</a></li>
	<li><a href='/blog/date/2008/09'>2008年九月</a></li>
	<li><a href='/blog/date/2008/08'>2008年八月</a></li>
	<li><a href='/blog/date/2008/07'>2008年七月</a></li>
	<li><a href='/blog/date/2008/06'>2008年六月</a></li>
	<li><a href='/blog/date/2008/04'>2008年四月</a></li>
	<li><a href='/blog/date/2008/02'>2008年二月</a></li>
	<li><a href='/blog/date/2007/12'>2007年十二月</a></li>
	<li><a href='/blog/date/2007/11'>2007年十一月</a></li>
	<li><a href='/blog/date/2007/10'>2007年十月</a></li>
	<li><a href='/blog/date/2007/09'>2007年九月</a></li>
	<li><a href='/blog/date/2007/08'>2007年八月</a></li>
	<li><a href='/blog/date/2007/07'>2007年七月</a></li>
	<li><a href='/blog/date/2007/06'>2007年六月</a></li>
	<li><a href='/blog/date/2007/05'>2007年五月</a></li>
	<li><a href='/blog/date/2007/04'>2007年四月</a></li>
		</ul>
		</section><section id="categories-2" class="widget widget_categories"><h2 class="widget-title">分类目录</h2>		<ul>
	<li class="cat-item cat-item-16"><a href="/blog/category/dotnet" >.Net</a>
</li>
	<li class="cat-item cat-item-8"><a href="/blog/category/pc_technology" >PC技术</a>
</li>
	<li class="cat-item cat-item-11"><a href="/blog/category/entertainment" >影音娱乐</a>
</li>
	<li class="cat-item cat-item-15"><a href="/blog/category/database" >数据库</a>
</li>
	<li class="cat-item cat-item-14"><a href="/blog/category/digest" >文摘</a>
</li>
	<li class="cat-item cat-item-13"><a href="/blog/category/orther" >杂货铺</a>
</li>
	<li class="cat-item cat-item-7"><a href="/blog/category/management" >管理营运</a>
</li>
	<li class="cat-item cat-item-9"><a href="/blog/category/web_development" >网站技术</a>
</li>
	<li class="cat-item cat-item-3"><a href="/blog/category/network" >网络安全</a>
</li>
	<li class="cat-item cat-item-4"><a href="/blog/category/life" >网络生活</a>
</li>
		</ul>
</section><section id="meta-2" class="widget widget_meta"><h2 class="widget-title">功能</h2>			<ul>
						<li><a href="/wp-login.php">登录</a></li>
			<li><a href="/feed">文章<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="/comments/feed">评论<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://cn.wordpress.org/" title="基于WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>			</ul>
			</section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="页脚主菜单">
					<div class="menu-%e5%af%bc%e8%88%aa-container"><ul id="menu-%e5%af%bc%e8%88%aa-1" class="primary-menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-309"><a href="/blog/category/web_development">网站技术</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-310"><a href="/blog/category/pc_technology">PC技术</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-311"><a href="/blog/category/orther">杂货铺</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-312"><a href="/blog/category/entertainment">影音娱乐</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-313"><a href="/blog/category/life">网络生活</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-314"><a href="/blog/category/digest">文摘</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-315"><a href="/blog/category/database">数据库</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-316"><a href="/blog/category/network">网络安全</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-317"><a href="/blog/category/management">管理营运</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-318"><a href="/blog/category/dotnet">.Net</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-323"><a href="/about_me">关于我</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="/" rel="home">网站建设技术集锦</a></span>
				<a href="https://cn.wordpress.org/">自豪地采用WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"\u5c55\u5f00\u5b50\u83dc\u5355","collapse":"\u6298\u53e0\u5b50\u83dc\u5355"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/functions.js?ver=20160816'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6'></script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?6b862532551ab821a572e486bca05514";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</body>
</html>

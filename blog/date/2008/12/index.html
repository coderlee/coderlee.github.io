<!DOCTYPE html>
<html lang="zh-CN" class="no-js">
<head>
	<meta charset="UTF-8">
	<base href="https://www.biglee.cn/">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>2008年12月 &#8211; 网站建设技术集锦</title>
<link rel='dns-prefetch' href='//s.w.org'>
<link rel="alternate" type="application/rss+xml" title="网站建设技术集锦 &raquo; Feed" href="/feed" />
<link rel="alternate" type="application/rss+xml" title="网站建设技术集锦 &raquo; 评论Feed" href="/comments/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='genericons-css'  href='/wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='/wp-content/themes/twentysixteen/style.css?ver=4.6' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		</head>

<body class="archive date hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">跳至内容</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="/" rel="home">网站建设技术集锦</a></p>
											<p class="site-description">涉及网站建设、服务器维护等IT技术的博客</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">菜单</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="主菜单">
								<div class="menu-%e5%af%bc%e8%88%aa-container"><ul id="menu-%e5%af%bc%e8%88%aa" class="primary-menu"><li id="menu-item-309" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-309"><a href="/blog/category/web_development">网站技术</a></li>
<li id="menu-item-310" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-310"><a href="/blog/category/pc_technology">PC技术</a></li>
<li id="menu-item-311" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-311"><a href="/blog/category/orther">杂货铺</a></li>
<li id="menu-item-312" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-312"><a href="/blog/category/entertainment">影音娱乐</a></li>
<li id="menu-item-313" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-313"><a href="/blog/category/life">网络生活</a></li>
<li id="menu-item-314" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-314"><a href="/blog/category/digest">文摘</a></li>
<li id="menu-item-315" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-315"><a href="/blog/category/database">数据库</a></li>
<li id="menu-item-316" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-316"><a href="/blog/category/network">网络安全</a></li>
<li id="menu-item-317" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-317"><a href="/blog/category/management">管理营运</a></li>
<li id="menu-item-318" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-318"><a href="/blog/category/dotnet">.Net</a></li>
<li id="menu-item-323" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-323"><a href="/about_me">关于我</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">月份：2008年12月</h1>			</header><!-- .page-header -->

			
<article id="post-153" class="post-153 post type-post status-publish format-standard hentry category-pc_technology">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2008/153.html" rel="bookmark">用DD-WRT使无线路由成中继蹭网</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　当你周围有WiFi无线信号，而且没有经过加密或者密钥你已经知道，但又不是很强，而你又想蹭网时，怎么办？或者自己家里的无线路由信号覆盖的到地方信号无法令你满意时，怎么办？<br />
　　如果你有一支持DD-WRT固件的无线路由，那就好办了，用它来做中继，来增强无线的信号和扩大覆盖范围。关于DD-WRT的介绍，见上一篇日志：<a href="/blog/2008/152.html" target="_blank">强悍的无线路由固件DD-WRT</a><br />
　　要想实现无线信号的中继，首先我们需要收集了解该无线网络的具体情况。如果是自己家的，有控制权，那比较好办，不是的话，要通过无线网卡找到外界的无线网络，然后收集相关信息。下面介绍一下无线信号扫描和信息收集的步骤和技巧。<br />
　　下载一个无线热点扫描软件，如Network Stumbler，装在笔记本上，抱着本本缓慢移动，找到信号最强的一个位置（也就是做中继用的无线路由将要地方）并记下信号最强的网络的SSID，连上网络，运行命令行，执行Ipconfig命令，你会看到本机IP地址及网关IP地址。一般网关IP地址就是无线路由的管理地址，在IE中输入此地址，运行好的话，你就能以路由设备默认的用户名和密码进去了。在那里能看到与设置更详细的网络信息。<br />
　　一切准备就绪，下面轮到DD-WRT出场了。下面设置DD-WRT 固件的无线路由，让它来承担无线网络中继的任务。<br />
　　一、在DD-WRT管理界面中我们找到WIRELESS标签，然后选择basic settings基本设置，默认这里是设置为AP的，他提供了普通AP接入与信号发射接收等服务。由于我们要将此设备作为目的无线网络的中继器，所以在这里将WIRELESS MODE无线模式修改为client（客户端），wireless network mode无线网络类型设置为混合mixed，wireless network name(ssid)信息添加扫描到的无线网络的SSID，其他信息保持默认即可，之后我们点SAVE按钮保存配置。<br />
　　二、无线模式修改完毕后我们还需要针对无线WAN接口的连接类型进行配置，返回到setup->basic setup界面，这里通过下拉菜单将WAN连接类型修改为automatic configuration-DHCP自动获得方式，然后保存。<br />
　　如果没有问题的话我们刷新后可以看到WAN接口获得的地址信息，当然这个地址实际上是由别人家的无线设备上DHCP服务所分配的，这样我们就实现了无线信号的拓展与放大。<br />
　　这里还有一个问题不能够忽视，那就是我们这台无线路由器的管理地址一定不能够和目的设备的管理地址产生冲突，需要我们修改成另外一个网段，同时DHCP服务也要进行相应修改。<br />
　　在修改地址池以及路由器自身管理地址时我们不能够点SAVE按钮，因为SAVE按钮修改后只有在重新启动设备才能够生效，所以对于这两个参数的更改我们需要点APPLY SETTINGS按钮让其马上启用。<br />
　　这样设置中继网络后我们虽然可以顺利连接无线网络，但是速度没有保证，可能会很慢，做些简单的设置可以改变这个状况。进入被中继的无线路由，设置DMZ主机为中继无线路由的IP地址，有必要的话，也可以进入中继无线路由设置DMZ主机为需要上网的本本的IP地址。然后再去试试，保证速度快了很多。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2008/153.html" rel="bookmark"><time class="entry-date published" datetime="2008-12-26T13:40:51+00:00">2008年12月26日</time><time class="updated" datetime="2010-11-07T06:50:00+00:00">2010年11月7日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/pc_technology" rel="category tag">PC技术</a></span><span class="comments-link"><a href="/blog/2008/153.html#respond"><span class="screen-reader-text">于用DD-WRT使无线路由成中继蹭网</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-152" class="post-152 post type-post status-publish format-standard hentry category-pc_technology">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2008/152.html" rel="bookmark">强悍的无线路由固件DD-WRT</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　在网上查找资料时，无意中发现一个介绍无线中继蹭网的文章。提到了功能强大的无线路由固件DD-WRT。于是搜索了下相关资料。整理如下：<br />
　　[color=Blue][b]一、起源与简介[/b][/color]<br />
　　DD-WRT一种可用于某些无线路由器的非商业的第三方固件。功能强大，但是又具有友好的Web管理/配置界面，可以提供很多“原版”路由器不支持的功能，如调整无线发射功率等。<br />
　　说到DD-WRT，我们有必要从Linksys WRT54G说起，Cisco / Linksys 在2003 年发行的这款无线路由器使用802.11g 标准使得带宽在理论上能够达到54M（2003年的时候），相对于当时业界普遍使用802.11b 的11M 带宽，不能不说实现了一次飞跃。它可以通过自带的DSL / Cable 接口接入宽带互联网，对于内网则支持4 个以太口交换与无线广播接入。2005 年初国内开始销售这款路由器。国外销售价格大概为$60，相对于其他产品来说的话就跟摆地摊的货差不多了。同年有好事者在 Linux Kernel Mailing List 搜索 WRT54G，发现它的IOS 是基于Linux，然而Linux 基于GPL 发布许可证，就是 GNU General Public License. 该许可证规定Cisco 应该把WRT54G 的IOS 的源代码公开。本来Cisco 拒绝公开源代码，最后，03 年三月份的时候，基于公众压力Linksys 公开了WRT54G 的源代码。<br />
　　此后就有了一些基于linksys源码的第三方固件，DD-WRT就是它们中的一个。<br />
　　DD-WRT 是一个“第三方”固件 ， 用于Linksys WRT54G/GS/GL (http://www.linksys.com/) 或其他基于Broadcom参考设计的802.11g无线路由器。 参考 Supported Devices (http://wrt-wiki.bsr-clan.de/index.php?title=Installation#Supported_Devices) 。这些路由器出厂用的就是Linux操作系统，厂家基于GPL的条款，发布了这些固件的源代码。<br />
　　固件是由BrainSlayer (mailto:brainslayer@braincontrol.org)来维护的，放在dd-wrt.com (http://www.dd-wrt.com/) . DD-WRT的第一个版本基于Sveasoft Inc (http://www.sveasoft.com/) 公司的Alchemy开发出来的, 而Alchemy又是基于GPL&#39;d Linksys固件及许多其它开放源程序. 由于后来人们需要向Sveasoft支付20美元才能下载Alchemy固件，直接的后果就是发展出了DD-WRT。 BrainSlayer全职为DD-WRT工作，要给自己支付工资，为此 起草了 (http://forum.bsr-clan.de/ftopic4612.html)另外一种商业模型。不过在目前来讲，DD-WRT还是免费的。<br />
    一般情况下我们称那些刷新了DD-WRT固件的无线设备为DD-WRT无线路由器，这种无线路由器在以下几个方面存在着很大的优势，功能更多，相比传统无线路由器来说，DD-WRT无线路由器功能更强大，支持的应用更多。<br />
    （1）支持3322.ORG的DDNS，支持花生壳的DDNS。<br />
　　（2）可以利用QoS、限速、限连接数等设置来优化带宽。<br />
　　（3）支持VPN的PPTP客户端和PPTP服务端设置，可以提供VPN接入。<br />
　　（4）可以轻松实现无线的定时开关。<br />
　　（5）可以通过配置轻松管理各种网络应用，例如彻底封杀BT，电驴，迅雷。<br />
　　（6）支持UPNP和端口映射功能。<br />
　　（7）支持语言种类很多，可以搭配802.1x (EAP(Extensible Authentication Protocol)-局域网上扩展认证协议封装)来增加网络认证应用。<br />
　　（8）IPV6支持，SNMP协议支持，SSH服务支持等。<br />
　　类似的第三方固件还有“OpenWrt”。<br />
　　相关链接：<br />
　　http://www.dd-wrt.com<br />
　　http://wiki.openwrt.org<br />
　　http://www.linksys.com</p>
<p>　　[color=Blue][b]二、支持设备[/b][/color]</p>
<p>[img]http://publish.it168.com/2006/1113/images/183993.jpg[/img]<br />
　　并不是所有设备都可以刷新成DD-WRT驱动的，DD-WRT支持的设备品牌很多，以下罗列一些最常用的。支持品牌包括All0277，Askey RT210W，Asus WL-500G，Asus WL-300G，Belkin部分产品，Buffalo部分产品，Linksys WRT54G系列与WRTSL54GS，Motorola WR850G，Siemens Gigaset SE505和Gigaset SX550i。<br />
　　当然这些设备刷新成DD-WRT后的效果也是有很大差别的，有的比较稳定有的则还不如之前厂家自带操作系统呢，所以在选择产品时也要三思而行，笔者推荐大家拿Buffalo WHR G54s，Asus WL 500G Deluxe，Buffalo WHR G54s以及Motorola WR850G这几个产品来测试，刷新后的效果最为不错。</p>
<p>　　[color=Blue][b]三、固件刷新[/b][/color]<br />
　　占位，日后编辑</p>
<p>　　[color=Blue][b]四、设置方法[/b][/color]</p>
<p>　　占位，日后编辑</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2008/152.html" rel="bookmark"><time class="entry-date published" datetime="2008-12-26T13:13:21+00:00">2008年12月26日</time><time class="updated" datetime="2008-12-26T09:19:00+00:00">2008年12月26日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/pc_technology" rel="category tag">PC技术</a></span><span class="comments-link"><a href="/blog/2008/152.html#respond"><span class="screen-reader-text">于强悍的无线路由固件DD-WRT</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-151" class="post-151 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2008/151.html" rel="bookmark">文件过多导致QQ无法接收图片</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　前两天，QQ突然无法接收别人在消息中发来的截图。正好办办公室里网络有问题，原以为是网络关系。但网络好了后还是一样收不到。<br />
　　今天给别人发截图，发送时QQ提示：[color=Blue]您在QQ中的的图片文件过多，为了正常发送和接收图片，您可以手动清理图片文件夹，或者清空图片文件夹[/color]。<br />
　　原来如此，马上着手清理。打开图片文件夹（QQ号码命名的文件夹里的image文件夹）一看，惊呆了，经过半年多的使用，里面的文件数目达到了一万五千多个。清理过之后，一切又正常了。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2008/151.html" rel="bookmark"><time class="entry-date published" datetime="2008-12-25T19:10:06+00:00">2008年12月25日</time><time class="updated" datetime="-001-11-30T00:00:00+00:00">-0001年11月30日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2008/151.html#respond"><span class="screen-reader-text">于文件过多导致QQ无法接收图片</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-150" class="post-150 post type-post status-publish format-standard hentry category-pc_technology">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2008/150.html" rel="bookmark">咖啡误杀极点五笔后的处理</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　晚上，和往常一样，开机上网。切换输入法到极点五笔时，突然之间没了响应，过了会，Mcafee调出提示消息说发现病毒，病毒文件正是极点五笔相关的文件freewb.ime，被隔离了：<br />
[img]attachments/month_0812/72008122421816.jpg[/img]<br />
　　突然想起，昨天办公室里的电脑也遇到了同样的问题，系统文件夹和程序文件夹里的这两个文件都被隔离了。<br />
　　到底是怎么回事呢？上网搜索了下，发现好多人也遇到这样的问题，而且好几个杀毒软件都报freewb.ime带毒。暂时没有看到具体的说明。难道是最近这些杀毒软件升级的病毒库特征代码里，正好与这个文件的某些代码相符？我想是的。<br />
　　没办法，只好在排除规则里加上这个文件名。然后进入极点五笔安装文件夹，运行registry.exe，在调出的提示上点“是”。极点五笔又可以用了。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2008/150.html" rel="bookmark"><time class="entry-date published" datetime="2008-12-24T21:14:48+00:00">2008年12月24日</time><time class="updated" datetime="-001-11-30T00:00:00+00:00">-0001年11月30日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/pc_technology" rel="category tag">PC技术</a></span><span class="comments-link"><a href="/blog/2008/150.html#respond"><span class="screen-reader-text">于咖啡误杀极点五笔后的处理</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-149" class="post-149 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2008/149.html" rel="bookmark">支付宝接口ILLEGAL_SIGN错误</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　为了更大的兼容性，我做网站习惯用UTF-8编码，没想到也带来了一些麻烦。<br />
　　今天在调试商城的支付宝接口，所有参数都写好了。结果出现：[quote]调试错误，请回到请求来源地，重新发起请求。</p>
<p>错误代码 ILLEGAL_SIGN<br />
说明:如果您不是因为本接口集成调试而看见该错误提醒，请联系本次请求来源网站，本错误属于网站集成接口的错误。[/quote]<br />
　　上网搜索，说是编码问题，支付宝的帮助里也这样说，解决办法是加个参数，说明如下：[quote]该错误的引起因素有好几点：<br />
1、传递的参数有空值。在支付宝的支付请求url中，某个参数是空值。这样空值在经过md5签名以后，比对会报错，所以请注意您传递过来的url中无空值。建议检查您购物车的支付宝代码，例如：subject=&#8221;shop&#8221;而非subject= &#8220;&#8221;</p>
<p>2、程序中安全校验码填写错误（请务必保存好该码，泄漏出去有可能被人伪造消息）。在您拿到不同测试中都有一个key的参数，该参数代表支付宝的安全校验码。从账户内复制过来的时候，会多余空格，请消息检查。例如某一个用户的key是kXXXXXXXXXXXXXXXXXXXXXXXXXXXati，复制到程序中key=” kXXXXXXXXXXXXXXXXXXXXXXXXXXXati ”多了空格的。</p>
<p>3、中文编码的问题。不同网站采用不同的中文编码。有utf-8.gbk,iso-8859-1等，而程序中md5对中文签名会不一样，造成显示该错误。现asp的程序没有直接utf-8编码的md5。Php和jsp。Net程序都是支持该编码的，您可以通过支付接口的  _input_charset = “utf-8”  参数设置制定的字符集，并且我们返回通知也会使用该字符集，解决乱码的问题。<br />
[/quote]<br />
　　然而，还是不管用。<br />
　　无奈之中，把从支付宝论坛上下载的接口文档拿来调试。写好参数后，一切正常，但由于原文件里的写法是程序里用Redirect直接跳转至支付宝的付款页面，而不是自己点击链接，为了方便调试，我把跳转改成链接。这时，意外的事情发生了，也出现了那样的错误。于是我想，难道是因为这个原因？把我的程序里也改成直接跳转，也不行，但意外地发现链接中包含有乱码，与生成的链接里的中文不一致，只好把Subject参数里的中文去了，再试，成功了。把直接跳转改回链接，也行了。<br />
　　看来，还是中文编码做的怪。不过，为什么加了参数，还不行呢？还哪里出错了？改天有空再好好研究研究？</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2008/149.html" rel="bookmark"><time class="entry-date published" datetime="2008-12-19T18:07:37+00:00">2008年12月19日</time><time class="updated" datetime="2011-12-21T04:41:00+00:00">2011年12月21日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2008/149.html#comments"><span class="screen-reader-text">支付宝接口ILLEGAL_SIGN错误</span>有2条评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-2" class="widget widget_search">
<form role="search" method="get" class="search-form" action="/">
	<label>
		<span class="screen-reader-text">搜索：</span>
		<input type="search" class="search-field" placeholder="搜索…" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">搜索</span></button>
</form>
</section>		<section id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">近期文章</h2>		<ul>
					<li>
				<a href="/blog/2016/307.html">curl与file_get_contents访问远程接口慢的解决</a>
						</li>
					<li>
				<a href="/blog/2016/306.html">PHP中Notice: iconv(): Unknown error (84) 的解决办法</a>
						</li>
					<li>
				<a href="/blog/2016/305.html">微信大文件的清理</a>
						</li>
					<li>
				<a href="/blog/2015/304.html">博客貌似被黑了，有空换PHP的</a>
						</li>
					<li>
				<a href="/blog/2014/303.html">使用socket方式连接Nginx优化php-fpm性能</a>
						</li>
				</ul>
		</section>		<section id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widget-title">近期评论</h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">七月的路人甲</span>发表在《<a href="/blog/2007/57.html#comment-113">看《西游记》悟团队建设</a>》</li><li class="recentcomments"><span class="comment-author-link">七月的路人甲</span>发表在《<a href="/blog/2007/58.html#comment-112">讯时2.70漏洞－对讯时新闻发布系统的艰难突破</a>》</li><li class="recentcomments"><span class="comment-author-link">sunchili</span>发表在《<a href="/blog/2012/208.html#comment-111">VideoShot.exe停止工作的解决办法</a>》</li><li class="recentcomments"><span class="comment-author-link">嫁给风的女孩</span>发表在《<a href="/blog/2012/207.html#comment-109">Jinitiator控件IE崩溃及Jinitiator界面汉字方框的解决办法</a>》</li><li class="recentcomments"><span class="comment-author-link">李三</span>发表在《<a href="/blog/2013/240.html#comment-108">商务领航定制网关(EG692HW)电信管理员密码获取方法</a>》</li></ul></section><section id="archives-2" class="widget widget_archive"><h2 class="widget-title">文章归档</h2>		<ul>
			<li><a href='/blog/date/2016/01'>2016年一月</a></li>
	<li><a href='/blog/date/2015/09'>2015年九月</a></li>
	<li><a href='/blog/date/2014/11'>2014年十一月</a></li>
	<li><a href='/blog/date/2014/10'>2014年十月</a></li>
	<li><a href='/blog/date/2014/07'>2014年七月</a></li>
	<li><a href='/blog/date/2014/06'>2014年六月</a></li>
	<li><a href='/blog/date/2014/05'>2014年五月</a></li>
	<li><a href='/blog/date/2014/04'>2014年四月</a></li>
	<li><a href='/blog/date/2014/03'>2014年三月</a></li>
	<li><a href='/blog/date/2014/02'>2014年二月</a></li>
	<li><a href='/blog/date/2014/01'>2014年一月</a></li>
	<li><a href='/blog/date/2013/12'>2013年十二月</a></li>
	<li><a href='/blog/date/2013/09'>2013年九月</a></li>
	<li><a href='/blog/date/2013/08'>2013年八月</a></li>
	<li><a href='/blog/date/2013/07'>2013年七月</a></li>
	<li><a href='/blog/date/2013/06'>2013年六月</a></li>
	<li><a href='/blog/date/2013/05'>2013年五月</a></li>
	<li><a href='/blog/date/2013/04'>2013年四月</a></li>
	<li><a href='/blog/date/2012/12'>2012年十二月</a></li>
	<li><a href='/blog/date/2012/11'>2012年十一月</a></li>
	<li><a href='/blog/date/2012/09'>2012年九月</a></li>
	<li><a href='/blog/date/2012/08'>2012年八月</a></li>
	<li><a href='/blog/date/2012/07'>2012年七月</a></li>
	<li><a href='/blog/date/2012/06'>2012年六月</a></li>
	<li><a href='/blog/date/2012/05'>2012年五月</a></li>
	<li><a href='/blog/date/2012/04'>2012年四月</a></li>
	<li><a href='/blog/date/2012/03'>2012年三月</a></li>
	<li><a href='/blog/date/2012/01'>2012年一月</a></li>
	<li><a href='/blog/date/2011/11'>2011年十一月</a></li>
	<li><a href='/blog/date/2011/09'>2011年九月</a></li>
	<li><a href='/blog/date/2011/08'>2011年八月</a></li>
	<li><a href='/blog/date/2011/07'>2011年七月</a></li>
	<li><a href='/blog/date/2011/02'>2011年二月</a></li>
	<li><a href='/blog/date/2010/09'>2010年九月</a></li>
	<li><a href='/blog/date/2010/08'>2010年八月</a></li>
	<li><a href='/blog/date/2010/07'>2010年七月</a></li>
	<li><a href='/blog/date/2010/06'>2010年六月</a></li>
	<li><a href='/blog/date/2009/12'>2009年十二月</a></li>
	<li><a href='/blog/date/2009/10'>2009年十月</a></li>
	<li><a href='/blog/date/2009/08'>2009年八月</a></li>
	<li><a href='/blog/date/2009/06'>2009年六月</a></li>
	<li><a href='/blog/date/2009/05'>2009年五月</a></li>
	<li><a href='/blog/date/2009/04'>2009年四月</a></li>
	<li><a href='/blog/date/2009/03'>2009年三月</a></li>
	<li><a href='/blog/date/2009/01'>2009年一月</a></li>
	<li><a href='/blog/date/2008/12'>2008年十二月</a></li>
	<li><a href='/blog/date/2008/11'>2008年十一月</a></li>
	<li><a href='/blog/date/2008/10'>2008年十月</a></li>
	<li><a href='/blog/date/2008/09'>2008年九月</a></li>
	<li><a href='/blog/date/2008/08'>2008年八月</a></li>
	<li><a href='/blog/date/2008/07'>2008年七月</a></li>
	<li><a href='/blog/date/2008/06'>2008年六月</a></li>
	<li><a href='/blog/date/2008/04'>2008年四月</a></li>
	<li><a href='/blog/date/2008/02'>2008年二月</a></li>
	<li><a href='/blog/date/2007/12'>2007年十二月</a></li>
	<li><a href='/blog/date/2007/11'>2007年十一月</a></li>
	<li><a href='/blog/date/2007/10'>2007年十月</a></li>
	<li><a href='/blog/date/2007/09'>2007年九月</a></li>
	<li><a href='/blog/date/2007/08'>2007年八月</a></li>
	<li><a href='/blog/date/2007/07'>2007年七月</a></li>
	<li><a href='/blog/date/2007/06'>2007年六月</a></li>
	<li><a href='/blog/date/2007/05'>2007年五月</a></li>
	<li><a href='/blog/date/2007/04'>2007年四月</a></li>
		</ul>
		</section><section id="categories-2" class="widget widget_categories"><h2 class="widget-title">分类目录</h2>		<ul>
	<li class="cat-item cat-item-16"><a href="/blog/category/dotnet" >.Net</a>
</li>
	<li class="cat-item cat-item-8"><a href="/blog/category/pc_technology" >PC技术</a>
</li>
	<li class="cat-item cat-item-11"><a href="/blog/category/entertainment" >影音娱乐</a>
</li>
	<li class="cat-item cat-item-15"><a href="/blog/category/database" >数据库</a>
</li>
	<li class="cat-item cat-item-14"><a href="/blog/category/digest" >文摘</a>
</li>
	<li class="cat-item cat-item-13"><a href="/blog/category/orther" >杂货铺</a>
</li>
	<li class="cat-item cat-item-7"><a href="/blog/category/management" >管理营运</a>
</li>
	<li class="cat-item cat-item-9"><a href="/blog/category/web_development" >网站技术</a>
</li>
	<li class="cat-item cat-item-3"><a href="/blog/category/network" >网络安全</a>
</li>
	<li class="cat-item cat-item-4"><a href="/blog/category/life" >网络生活</a>
</li>
		</ul>
</section><section id="meta-2" class="widget widget_meta"><h2 class="widget-title">功能</h2>			<ul>
						<li><a href="/wp-login.php">登录</a></li>
			<li><a href="/feed">文章<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="/comments/feed">评论<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://cn.wordpress.org/" title="基于WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>			</ul>
			</section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="页脚主菜单">
					<div class="menu-%e5%af%bc%e8%88%aa-container"><ul id="menu-%e5%af%bc%e8%88%aa-1" class="primary-menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-309"><a href="/blog/category/web_development">网站技术</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-310"><a href="/blog/category/pc_technology">PC技术</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-311"><a href="/blog/category/orther">杂货铺</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-312"><a href="/blog/category/entertainment">影音娱乐</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-313"><a href="/blog/category/life">网络生活</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-314"><a href="/blog/category/digest">文摘</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-315"><a href="/blog/category/database">数据库</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-316"><a href="/blog/category/network">网络安全</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-317"><a href="/blog/category/management">管理营运</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-318"><a href="/blog/category/dotnet">.Net</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-323"><a href="/about_me">关于我</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="/" rel="home">网站建设技术集锦</a></span>
				<a href="https://cn.wordpress.org/">自豪地采用WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"\u5c55\u5f00\u5b50\u83dc\u5355","collapse":"\u6298\u53e0\u5b50\u83dc\u5355"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/functions.js?ver=20160816'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6'></script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?6b862532551ab821a572e486bca05514";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</body>
</html>

<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>网络安全 &#8211; 网站建设技术集锦</title>
	<atom:link href="http://www.biglee.cn/blog/category/network/feed" rel="self" type="application/rss+xml" />
	<link>http://www.biglee.cn</link>
	<description>涉及网站建设、服务器维护等IT技术的博客</description>
	<lastBuildDate>Sun, 11 Sep 2016 06:49:31 +0000</lastBuildDate>
	<language>zh-CN</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.6</generator>
	<item>
		<title>博客貌似被黑了，有空换PHP的</title>
		<link>http://www.biglee.cn/blog/2015/304.html</link>
		<comments>http://www.biglee.cn/blog/2015/304.html#respond</comments>
		<pubDate>Thu, 24 Sep 2015 06:51:41 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[&#160;　　由于近来工作比较忙，所以有大半年没关注我这个博客站了。 　　前两天发现站点打不开了，于是找朋友 &#8230; <a href="http://www.biglee.cn/blog/2015/304.html" class="more-link">继续阅读<span class="screen-reader-text">“博客貌似被黑了，有空换PHP的”</span></a>]]></description>
				<content:encoded><![CDATA[<p>&nbsp;　　由于近来工作比较忙，所以有大半年没关注我这个博客站了。</p>
<p>　　前两天发现站点打不开了，于是找朋友要了个小地方，放上去，今天发现一堆的垃圾评论与留言，想登录后台管理，结果发现登录不上，提示密码错误。以为自己记错了，试了几个可能的密码，都不行，于量拿出很早已经写的重置用户密码的代码，重置，再登录，也不行，傻眼了，难道管理员用户有另外的表，记得没有啊，查看数据库确认表，才发现我的用户名被改了。看来是已经被黑了。</p>
<p>　　这个博客站是8年前架的，那时用的是ASP，现在早就改行做PHP了，正好可以抽空把这个站也改成PHP的。</p>
<p>　　除了用户名被改，还有恶意注册与留言，得抓紧时间换了。</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2015/304.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>点击任何链接弹出很多广告窗口问题的解决</title>
		<link>http://www.biglee.cn/blog/2013/247.html</link>
		<comments>http://www.biglee.cn/blog/2013/247.html#respond</comments>
		<pubDate>Mon, 30 Nov -0001 00:00:00 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[　　前几天，有一个反应同事电脑有问题，经常点击网页上的一个链接出现的不是该链接的页面，而是出现一个广告页面，同 &#8230; <a href="http://www.biglee.cn/blog/2013/247.html" class="more-link">继续阅读<span class="screen-reader-text">“点击任何链接弹出很多广告窗口问题的解决”</span></a>]]></description>
				<content:encoded><![CDATA[<p>　　前几天，有一个反应同事电脑有问题，经常点击网页上的一个链接出现的不是该链接的页面，而是出现一个广告页面，同时还会弹出好多其它广告页面，经过杀毒软件查杀也没查出什么。</p>
<p>　　我用其它工具也没找到可疑的文件，查看浏览器加载项，也没有不正常的项目。一时束手无策，只好暂时搁置。</p>
<p>　　今天又有一个同事来反应也有这样的问题，这时另一个同事听到了，也反应说也遇到这问题。我想，难道是局域网里里病毒，劫持了网络？但是又有好多同事没问题。</p>
<p>　　进到网关里，查看WAN状态，发现获取到的DNS服务器为106.186.28.68，查了下，是个日本的IP，看来问题出在这了，手动设定下，搞定。但是这个是拨号连接自动从电信那获取，为什么是这个呢？</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2013/247.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>virtualbox虚拟机DHCP服务的关闭与开启设置</title>
		<link>http://www.biglee.cn/blog/2013/245.html</link>
		<comments>http://www.biglee.cn/blog/2013/245.html#respond</comments>
		<pubDate>Mon, 30 Nov -0001 00:00:00 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[&#160;　　今天有几个同事说上不了网，我发现是网卡设置为自动获取IP，获取到的IP段是192.168.56 &#8230; <a href="http://www.biglee.cn/blog/2013/245.html" class="more-link">继续阅读<span class="screen-reader-text">“virtualbox虚拟机DHCP服务的关闭与开启设置”</span></a>]]></description>
				<content:encoded><![CDATA[<p>&nbsp;　　今天有几个同事说上不了网，我发现是网卡设置为自动获取IP，获取到的IP段是192.168.56.0，且没有网关。原来是这几天我在用virtualbox研究ROS，virtualbox带有DHCP服务。网络上查了半天也没找到在哪关闭这个DHCP服务。后来摸索了半天，终于找到了设置的地方。</p>
<p>　　在virtualbox管理器&ldquo;管理&rdquo;菜单下有个全局设定，在网络选项里编辑你的仅主机网络适配器(VirtualBox Host-Only)设置，将DHCP服务选项里启用服务器前的勾选去掉。如图：</p>
<p><img alt="" src="http://www.biglee.cn/blog/download.asp?id=3" /></p>
<p>　　同时你要在其中的主机虚拟网络界面里设置好IP地址和网络掩码（原设置是0.0.0.0，从DHCP上自动获取IP）。</p>
<p>　　如果你给虚拟主机添加了多个仅主机网络类型的虚拟网卡，都要按此方法设置。</p>
<p>　　通过以上设置，VirtualBox的DHCP服务就被关闭了。</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2013/245.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>多线路环境virtualbox虚拟机装ROS当中转路由</title>
		<link>http://www.biglee.cn/blog/2013/244.html</link>
		<comments>http://www.biglee.cn/blog/2013/244.html#respond</comments>
		<pubDate>Mon, 30 Nov -0001 00:00:00 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[局域网里有两个出口，网关分别为192.168.1.1和192.168.1.2，没有多网卡电脑可用来装ROS，怎 &#8230; <a href="http://www.biglee.cn/blog/2013/244.html" class="more-link">继续阅读<span class="screen-reader-text">“多线路环境virtualbox虚拟机装ROS当中转路由”</span></a>]]></description>
				<content:encoded><![CDATA[<p>局域网里有两个出口，网关分别为192.168.1.1和192.168.1.2，没有多网卡电脑可用来装ROS，怎么样用一台电脑来实现多出口的负载均衡呢？为了测试，我在我的电脑上的虚拟机里装上了ROS来测试，然后其它电脑将网关设置成该ROS的IP，成功实现负载均衡。设置要点：</p>
<p>1、虚拟机里ROS系统网卡IP要和局域网及各出口接入设备的局域网端IP要在同个网段</p>
<p>2、虚拟机网卡设置成桥接网卡。如果设置成仅主机(Host-Only)，则需要桥接虚拟网卡和宿主机能上网的网卡。</p>
<p>3、ROS的IP设置里，设置两个网关（通过策略等进行负载平衡，探索中）</p>
<p>4、将其它电脑的网关设置为ROS的IP，或者配置ROS的DHCP，其它电脑自动获取，同时关闭各出口接入设备及其它设备的DHCP服务（或者将这些DHCP服务器的网设为ROS的IP，且IP范围不重复）。</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2013/244.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>商务领航定制网关(EG692HW)电信管理员密码获取方法</title>
		<link>http://www.biglee.cn/blog/2013/240.html</link>
		<comments>http://www.biglee.cn/blog/2013/240.html#comments</comments>
		<pubDate>Mon, 30 Nov -0001 00:00:00 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[打开http://192.168.1.1/userInfo.html（如果设备IP不是默认的请自行修改网址）  &#8230; <a href="http://www.biglee.cn/blog/2013/240.html" class="more-link">继续阅读<span class="screen-reader-text">“商务领航定制网关(EG692HW)电信管理员密码获取方法”</span></a>]]></description>
				<content:encoded><![CDATA[<p>打开<a href="http://192.168.1.1/userInfo.html">http://192.168.1.1/userInfo.html</a>（如果设备IP不是默认的请自行修改网址）</p>
<p>会显示类似以下字符串：telecomadmin/857/0/0/1/946691208/946691312/telecomadmin26260773|useradmin/0/3/0/0/946690587/946691312/admin!@#$%^|</p>
<p>第一个&ldquo;/&rdquo;前就是电信管理员用户名：telecomadmin</p>
<p>第一个&ldquo;|&rdquo;前&ldquo;/&rdquo;后面就是密码：telecomadmin26260773<br />
&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2013/240.html/feed</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>IIS 6曝新漏洞</title>
		<link>http://www.biglee.cn/blog/2009/165.html</link>
		<comments>http://www.biglee.cn/blog/2009/165.html#respond</comments>
		<pubDate>Mon, 30 Nov -0001 00:00:00 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[Microsoft Internet Infomation Server 6.0 ISAPI Filename &#8230; <a href="http://www.biglee.cn/blog/2009/165.html" class="more-link">继续阅读<span class="screen-reader-text">“IIS 6曝新漏洞”</span></a>]]></description>
				<content:encoded><![CDATA[<p>Microsoft Internet Infomation Server 6.0 ISAPI Filename Analytic Vulnerability</p>
<p>function Copyright()<br />
{</p>
<p>var Author=”80sec”;<br />
var Email=”kEvin#80sec.com”.replace(”#”,”@”)<br />
var Site=”http://www.80sec.com”;<br />
var Date=new Date(2009,4,24).toLocaleString();<br />
var Reference=”http://www.80sec.com/Microsoft-Internet-Infomation-Server-6-ISAPI-filename-analytic-Vulnerabilitie.html”;<br />
return Reference;</p>
<p>}</p>
<p>/*</p>
<p>漏洞描述:</p>
<p>IIS6 (Internet Infomation Server 6.0) 是微软出品的一款WEB服务器系统, 广泛用于各种个人/商业信息发布/网站架设领域。80sec在测试中发现, IIS设计上在处理畸形文件名的时候存在一个严重的安全漏洞, 可能绕过web程序的逻辑检查从而能导致服务器以IIS进程权限执行任意恶意用户定义的脚本, 黑客可以通过制造畸形的服务器文件来触发该 漏洞, 并从而控制服务器.</p>
<p>漏洞厂商: </p>
<p>Microsoft [ http://www.microsoft.com ]</p>
<p>漏洞测试:</p>
<p>Undefined</p>
<p>解决方案:</p>
<p>等待微软更新官方补丁.</p>
<p>*/</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2009/165.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>ROS，软路由软件介绍</title>
		<link>http://www.biglee.cn/blog/2009/161.html</link>
		<comments>http://www.biglee.cn/blog/2009/161.html#respond</comments>
		<pubDate>Mon, 30 Nov -0001 00:00:00 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[　　专业路由设备动不动就几千上万的，本着节省的原则，我们可以用老爷机DIY一个路由器，这就需要用到ROS软路由 &#8230; <a href="http://www.biglee.cn/blog/2009/161.html" class="more-link">继续阅读<span class="screen-reader-text">“ROS，软路由软件介绍”</span></a>]]></description>
				<content:encoded><![CDATA[<p>　　专业路由设备动不动就几千上万的，本着节省的原则，我们可以用老爷机DIY一个路由器，这就需要用到ROS软路由软件，也就是软件路由器软件。<br />
　　根据使用的操作不同可以分为基于windows平台和基于Linux/bsd平台开发的软件路由器，基于Windows平台的软件防火墙比较常见的有ISA Server、Winroute Firewall等，这些软件都是商业化的，通常根据授权用户数不同收费而不同，购买正版的软件防火墙的费用对许多中小型企业来说无疑是一笔不小的开支。有而基于Unix/Linux平台的软件防火墙大家一般接触较少，受益于开放源码运行，目前基于Unix/Linux平台的软件防火墙如雨后春笋般不断推出，这些软件防火墙大多是免费的，常见的有RouterOS、m0n0Wall、SmoothWall、Ipcop、CoyoteLinux等，这些系统共有的特点是一般对硬件要求较低，甚至只需要一台486电脑，一张软盘，两块网卡就可以安装出一台非常专业的软件防火墙，这对很多有淘汰下来的低档电脑的朋友来说，意味着拿一台淘汰的电脑，安装一套免费的防火墙软件，不花一分钱就DIY出一台专业的防火墙，而且这些系统自身也包含了NAT功能，同时可以实现宽带共享，这意味着这台免费的防火墙其实也是一台出色的宽带路由器，这是多么令人激动的事情。<br />
　　我整理收集了几款功能比较强大，比较好用的软路由软件。</p>
<p>1、coyote linux（北美土狼）<br />
　　coyote linux（北美土狼）是一款非常小巧方便的软件路由器和防火墙软件，它以一张软盘为载体（也可以是U盘），可以使用一些比较古老的机器做为代理防火墙，而它的功能却很强大。支持PPPoE等多种上网方式，支持Web管理，有中文界面。到目前为止，最新版本是2.4.0。可到其网站上下载，网址：http://www.vortech.net/ 。注意：其网站上提供了若干平台的制作版本，我们一般采用Windows Disk Creation Wizard v2.24.0版本，意思是在windows下的生成版本。另外，此款软件是[color=Red]免费[/color]软件。</p>
<p>2、RouterOS<br />
　　RouterOS能将多张网卡组建为一个桥模式，是路由器变成一个透明的桥设备，同样也实行三层交换的作用，MAC层的以太网桥、EoIP 、Prism、Atheros和RadioLAN 等都是支持的。所有802.11b和802.11a 客户端的无线网卡（如station模式的无线）受802.11 的限制无法支持桥模式，但可以通过EoIP协议的桥接方式实现。<br />
　　RouterOS的功能很强大，不过，是收费软件。</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2009/161.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>黑客根据IP就能控制用户电脑 微软破例紧急公布严重漏洞</title>
		<link>http://www.biglee.cn/blog/2008/145.html</link>
		<comments>http://www.biglee.cn/blog/2008/145.html#respond</comments>
		<pubDate>Mon, 30 Nov -0001 00:00:00 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[　　Windows操作系统的安全性再次受到严峻挑战！10月24日凌晨，微软紧急发布了一项重要的安全更新（KB9 &#8230; <a href="http://www.biglee.cn/blog/2008/145.html" class="more-link">继续阅读<span class="screen-reader-text">“黑客根据IP就能控制用户电脑 微软破例紧急公布严重漏洞”</span></a>]]></description>
				<content:encoded><![CDATA[<p>　　Windows操作系统的安全性再次受到严峻挑战！10月24日凌晨，微软紧急发布了一项重要的安全更新（KB958644），涉及Windows2000/XP/Vista等桌面操作系统的绝大多数版本。其危害程度毫不逊于当年波及80%以上Windows用户的“冲击波”病毒。</p>
<p>　　微软公告称，黑客可以利用该漏洞向网络中的电脑发出远程的特制RPC请求，无需身份验证便可在电脑中任意执行远程代码。这就是说，即便你的电脑设置了管理员密码，也只能任由黑客摆布。</p>
<p>　　截至目前，网上已出现了利用该漏洞的蠕虫病毒(Win32/MS08067.gen!A)。这一漏洞的危害极为严重，黑客仅根据IP地址便可随意发起攻击，简直是“指哪打哪”，而且感染性非常强，只要远程执行一段下载恶意程序的代码，不但能随意弹出广告、盗取用户账号，还可以控制本机进而攻击其他用户，使破坏力持续放大，局域网的用户一旦有一个中招病毒就会迅速扩散。</p>
<p>　　据悉，这是微软近一年半以来首次打破每月定期安全公告的惯例而发布更新。目前唯一的解决方案便是为系统打好KB958644补丁，以免受到病毒感染。</p>
<p>　　点击下面链接，详细了解该漏洞的技术内幕。</p>
<p>　　http://www.microsoft.com/china/technet/security/bulletin/MS08-067.mspx</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2008/145.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>ARP协议及ARP欺骗详解</title>
		<link>http://www.biglee.cn/blog/2008/137.html</link>
		<comments>http://www.biglee.cn/blog/2008/137.html#respond</comments>
		<pubDate>Mon, 30 Nov -0001 00:00:00 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[]]></description>
				<content:encoded><![CDATA[<p>　　我们知道，当我们在浏览器里面输入网址时，DNS服务器会自动把它解析为IP地址，浏览器实际上查找的是IP地址而不是网址。那么IP地址是如何转换为第二层物理地址（即MAC地址）的呢？在局域网中，这是通过ARP协议来完成的。ARP协议对网络安全具有重要的意义。通过伪造IP地址和MAC地址实现ARP欺骗，能够在网络中产生大量的ARP通信量使网络阻塞。所以网管们应深入理解ARP协议。</p>
<p>一、什么是ARP协议</p>
<p>　　在每台安装有TCP/IP协议的电脑里都有一个ARP缓存表，表里的IP地址与MAC地址是一一对应的<br />
　　我们以主机A（192.168.1.5）向主机B（192.168.1.1）发送数据为例。当发送数据时，主机A会在自己的ARP缓存表中寻找是否有目标IP地址。如果找到了，也就知道了目标MAC地址，直接把目标MAC地址写入帧里面发送就可以了；如果在ARP缓存表中没有找到相对应的IP地址，主机A就会在网络上发送一个广播，目标MAC地址是“FF.FF.FF.FF.FF.FF”，这表示向同一网段内的所有主机发出这样的询问：“192.168.1.1的MAC地址是什么？”网络上其他主机并不响应ARP询问，只有主机B接收到这个帧时，才向主机A做出这样的回应：“192.168.1.1的MAC地址是00-aa-00-62-c6-09”。这样，主机A就知道了主机B的MAC地址，它就可以向主机B发送信息了。同时它还更新了自己的ARP缓存表，下次再向主机B发送信息时，直接从ARP缓存表里查找就可以了。ARP缓存表采用了老化机制，在一段时间内如果表中的某一行没有使用，就会被删除，这样可以大大减少ARP缓存表的长度，加快查询速度。<br />
　　ARP攻击就是通过伪造IP地址和MAC地址实现ARP欺骗，能够在网络中产生大量的ARP通信量使网络阻塞，攻击者只要持续不断的发出伪造的ARP响应包就能更改目标主机ARP缓存中的IP-MAC条目，造成网络中断或中间人攻击。<br />
　　ARP攻击主要是存在于局域网网络中，局域网中若有一个人感染ARP木马，则感染该ARP木马的系统将会试图通过“ARP欺骗”手段截获所在网络内其它计算机的通信信息，并因此造成网内其它计算机的通信故障。</p>
<p>RARP的工作原理：<br />
　　1. 发送主机发送一个本地的RARP广播，在此广播包中，声明自己的MAC地址并且请求任何收到此请求的RARP服务器分配一个IP地址；<br />
　　2. 本地网段上的RARP服务器收到此请求后，检查其RARP列表，查找该MAC地址对应的IP地址；<br />
　　3. 如果存在，RARP服务器就给源主机发送一个响应数据包并将此IP地址提供给对方主机使用；<br />
　　4. 如果不存在，RARP服务器对此不做任何的响应；<br />
　　5. 源主机收到从RARP服务器的响应信息，就利用得到的IP地址进行通讯；如果一直没有收到RARP服务器的响应信息，表示初始化失败。</p>
<p>三.ARP和RARP报头结构</p>
<p>ARP和RARP使用相同的报头结构，如图所示。<br />
[img]attachments/month_0808/v2008811165120.jpg[/img]<br />
硬件类型字段：指明了发送方想知道的硬件接口类型，以太网的值为1；<br />
协议类型字段：指明了发送方提供的高层协议类型，IP为0800（16进制）；<br />
硬件地址长度和协议长度：指明了硬件地址和高层协议地址的长度，这样ARP报文就可以在任意硬件和任意协议的网络中使用；<br />
操作字段：用来表示这个报文的类型，ARP请求为1，ARP响应为2，RARP请求为3，RARP响应为4；<br />
发送方的硬件地址（0-3字节）：源主机硬件地址的前3个字节；<br />
发送方的硬件地址（4-5字节）：源主机硬件地址的后3个字节；<br />
发送方IP（0-1字节）：源主机硬件地址的前2个字节；<br />
发送方IP（2-3字节）：源主机硬件地址的后2个字节；<br />
目的硬件地址（0-1字节）：目的主机硬件地址的前2个字节；<br />
目的硬件地址（2-5字节）：目的主机硬件地址的后4个字节；<br />
目的IP（0-3字节）：目的主机的IP地址。</p>
<p>四、如何查看ARP缓存表</p>
<p>　　ARP缓存表是可以查看的，也可以添加和修改。在命令提示符下，输入“arp -a”就可以查看ARP缓存表中的内容了。</p>
<p>用“arp -d”命令可以删除ARP表中所有的内容；<br />
用“arp -d +空格+ <指定ip地址>” 可以删除指定ip所在行的内容<br />
用“arp -s”可以手动在ARP表中指定IP地址与MAC地址的对应，类型为static(静态)，此项存在硬盘中，而不是缓存表，计算机重新启动后仍然存在，且遵循静态优于动态的原则，所以这个设置不对，可能导致无法上网</p>
<p>五、ARP欺骗</p>
<p>其实，此起彼伏的瞬间掉线或大面积的断网大都是ARP欺骗在作怪。ARP欺骗攻击已经成了破坏网吧经营的罪魁祸首，是网吧老板和网管员的心腹大患。 </p>
<p>从影响网络连接通畅的方式来看，ARP欺骗分为二种，一种是对路由器ARP表的欺骗；另一种是对内网PC的网关欺骗。 </p>
<p>　　第一种ARP欺骗的原理是——截获网关数据。它通知路由器一系列错误的内网MAC地址，并按照一定的频率不断进行，使真实的地址信息无法通过更新保存在路由器中，结果路由器的所有数据只能发送给错误的MAC地址，造成正常PC无法收到信息。第二种ARP欺骗的原理是——伪造网关。它的原理是建立假网关，让被它欺骗的PC向假网关发数据，而不是通过正常的路由器途径上网。在PC看来，就是上不了网了，“网络掉线了”。 </p>
<p>　　一般来说，ARP欺骗攻击的后果非常严重，大多数情况下会造成大面积掉线。有些网管员对此不甚了解，出现故障时，认为PC没有问题，交换机没掉线的“本事”，电信也不承认宽带故障。而且如果第一种ARP欺骗发生时，只要重启路由器，网络就能全面恢复，那问题一定是在路由器了。为此，宽带路由器背了不少“黑锅”。 </p>
<p>　　作为网吧路由器的厂家，对防范ARP欺骗不得已做了不少份内、份外的工作。一、在宽带路由器中把所有PC的IP-MAC输入到一个静态表中，这叫路由器IP-MAC绑定。二、力劝网管员在内网所有PC上设置网关的静态ARP信息，这叫PC机IP-MAC绑定。一般厂家要求两个工作都要做，称其为IP-MAC双向绑定。</p>
<p>　　显示和修改“地址解析协议”(ARP) 所使用的到以太网的 IP 或令牌环物理地址翻译表。该命令只有在安装了 TCP/IP 协议之后才可用。 </p>
<p>arp -a [inet_addr] [-N [if_addr]<br />
arp -d inet_addr [if_addr]<br />
arp -s inet_addr ether_addr [if_addr] </p>
<p>参数 </p>
<p>-a<br />
通过询问 TCP/IP 显示当前 ARP 项。如果指定了 inet_addr，则只显示指定计算机的 IP 和物理地址。 </p>
<p>-g<br />
与 -a 相同。</p>
<p>inet_addr<br />
以加点的十进制标记指定 IP 地址。</p>
<p>-N<br />
显示由 if_addr 指定的网络界面 ARP 项。</p>
<p>if_addr<br />
指定需要修改其地址转换表接口的 IP 地址（如果有的话）。如果不存在，将使用第一个可适用的接口。 </p>
<p>-d<br />
删除由 inet_addr 指定的项。</p>
<p>-s<br />
在 ARP 缓存中添加项，将 IP 地址 inet_addr 和物理地址 ether_addr 关联。物理地址由以连字符分隔的6 个十六进制字节给定。使用带点的十进制标记指定 IP 地址。项是永久性的，即在超时到期后项自动从缓存删除。</p>
<p>ether_addr<br />
指定物理地址。</p>
<p>六、遭受ARP攻击后现象</p>
<p>　　ARP欺骗木马的中毒现象表现为：使用局域网时会突然掉线，过一段时间后又会恢复正常。比如客户端状态频频变红，用户频繁断网，IE浏览器频繁出错，以及一些常用软件出现故障等。如果局域网中是通过身份认证上网的，会突然出现可认证，但不能上网的现象（无法ping通网关），重启机器或在MS-DOS窗口下运行命令arp -d后，又可恢复上网。<br />
　　ARP欺骗木马只需成功感染一台电脑，就可能导致整个局域网都无法上网，严重的甚至可能带来整个网络的瘫痪。该木马发作时除了会导致同一局域网内的其他用户上网出现时断时续的现象外，还会窃取用户密码。如盗取QQ密码、盗取各种网络游戏密码和账号去做金钱交易，盗窃网上银行账号来做非法交易活动等，这是木马的惯用伎俩，给用户造成了很大的不便和巨大的经济损失。</p>
<p>七、常用的维护方法</p>
<p>　　搜索网上，目前对于ARP攻击防护问题出现最多是绑定IP和MAC和使用ARP防护软件，也出现了具有ARP防护功能的路由器。呵呵，我们来了解下这三种方法。<br />
3.1 静态绑定<br />
　　最常用的方法就是做IP和MAC静态绑定，在网内把主机和网关都做IP和MAC绑定。<br />
　　欺骗是通过ARP的动态实时的规则欺骗内网机器，所以我们把ARP全部设置为静态可以解决对内网PC的欺骗，同时在网关也要进行IP和MAC的静态绑定，这样双向绑定才比较保险。<br />
方法：<br />
对每台主机进行IP和MAC地址静态绑定。<br />
通过命令，arp -s可以实现 “arp –s IP MAC地址 ”。<br />
例如：“arp –s 192.168.10.1 AA-AA-AA-AA-AA-AA”。<br />
如果设置成功会在PC上面通过执行 arp -a 可以看到相关的提示： </p>
<p>Internet Address Physical Address Type<br />
192.168.10.1 AA-AA-AA-AA-AA-AA static(静态)</p>
<p>一般不绑定,在动态的情况下： </p>
<p>Internet Address Physical Address Type<br />
192.168.10.1 AA-AA-AA-AA-AA-AA dynamic(动态)</p>
<p>　　说明：对于网络中有很多主机，500台，1000台&#8230;，如果我们这样每一台都去做静态绑定，工作量是非常大的。。。。，这种静态绑定，在电脑每次重起后，都必须重新在绑定，虽然也可以做一个批处理文件，但是还是比较麻烦的！ </p>
<p>3.2 使用ARP防护软件<br />
　　目前关于ARP类的防护软件出的比较多了，大家使用比较常用的ARP工具主要是欣向ARP工具，Antiarp等。它们除了本身来检测出ARP攻击外，防护的工作原理是一定频率向网络广播正确的ARP信息。我们还是来简单说下这两个小工具。 </p>
<p>3.2.1 欣向ARP工具<br />
它有5个功能： </p>
<p>A. IP/MAC清单<br />
　　选择网卡。如果是单网卡不需要设置。如果是多网卡需要设置连接内网的那块网卡。<br />
　　IP/MAC扫描。这里会扫描目前网络中所有的机器的IP与MAC地址。请在内网运行正常时扫描，因为这个表格将作为对之后ARP的参照。<br />
　　之后的功能都需要这个表格的支持，如果出现提示无法获取IP或MAC时，就说明这里的表格里面没有相应的数据。 </p>
<p>B. ARP欺骗检测<br />
　　这个功能会一直检测内网是否有PC冒充表格内的IP。你可以把主要的IP设到检测表格里面，例如，路由器，电影服务器，等需要内网机器访问的机器IP。<br />
(补充)“ARP欺骗记录”表如何理解：<br />
“Time”：发现问题时的时间；<br />
“sender”：发送欺骗信息的IP或MAC；<br />
“Repeat”：欺诈信息发送的次数；<br />
“ARP info”：是指发送欺骗信息的具体内容.如下面例子：<br />
time sender Repeat ARP info 22:22:22 192.168.1.22 1433 192.168.1.1 is at 00:0e:03:22:02:e8<br />
这条信息的意思是：在22:22:22的时间,检测到由192.168.1.22发出的欺骗信息，已经发送了1433次，他发送的欺骗信息的内容是：192.168.1.1的MAC地址是00:0e:03:22:02:e8。<br />
打开检测功能，如果出现针对表内IP的欺骗，会出现提示。可以按照提示查到内网的ARP欺骗的根源。提示一句，任何机器都可以冒充其他机器发送IP与MAC，所以即使提示出某个IP或MAC在发送欺骗信息，也未必是100％的准确。所有请不要以暴力解决某些问题。 </p>
<p>C. 主动维护<br />
　　这个功能可以直接解决ARP欺骗的掉线问题，但是并不是理想方法。他的原理就在网络内不停的广播制定的IP的正确的MAC地址。<br />
　　“制定维护对象”的表格里面就是设置需要保护的IP。发包频率就是每秒发送多少个正确的包给网络内所有机器。强烈建议尽量少的广播IP，尽量少的广播频率。一般设置1次就可以，如果没有绑定IP的情况下，出现ARP欺骗，可以设置到50－100次，如果还有掉线可以设置更高，即可以实现快速解决ARP欺骗的问题。但是想真正解决ARP问题，还是请参照上面绑定方法。 </p>
<p>D. 欣向路由器日志<br />
收集欣向路由器的系统日志，等功能。 </p>
<p>E. 抓<br />
类似于网络分析软件的抓包，保存格式是.cap。 </p>
<p>3.2.1 Antiarp<br />
　　这个软件界面比较简单，以下为我收集该软件的使用方法。<br />
A. 填入网关IP地址，点击［获取网关地址］将会显示出网关的MAC地址。点击[自动防护]即可保护当前网卡与该网关的通信不会被第三方监听。注意：如出现ARP欺骗提示，这说明攻击者发送了ARP欺骗数据包来获取网卡的数据包，如果您想追踪攻击来源请记住攻击者的MAC地址，利用MAC地址扫描器可以找出IP 对应的MAC地址。<br />
B. IP地址冲突<br />
如频繁的出现IP地址冲突，这说明攻击者频繁发送ARP欺骗数据包，才会出现IP冲突的警告，利用Anti ARP Sniffer可以防止此类攻击。<br />
C. 您需要知道冲突的MAC地址，Windows会记录这些错误。查看具体方法如下：<br />
右击[我的电脑]&#8211;[管理]&#8211;点击[事件查看器]&#8211;点击[系统]&#8211;查看来源为[TcpIP]&#8212;双击事件可以看到显示地址发生冲突，并记录了该MAC地址，请复制该MAC地址并填入Anti ARP Sniffer的本地MAC地址输入框中(请注意将:转换为-)，输入完成之后点击[防护地址冲突]，为了使MAC地址生效请禁用本地网卡然后再启用网卡，在CMD命令行中输入Ipconfig /all，查看当前MAC地址是否与本地MAC地址输入框中的MAC地址相符，如果更改失败请与我联系。如果成功将不再会显示地址冲突。<br />
注意:如果您想恢复默认MAC地址,请点击[恢复默认],为了使MAC地址生效请禁用本地网卡然后再启用网卡。<br />
3.3 具有ARP防护功能的路由器<br />
　　这类路由器以前听说的很少，对于这类路由器中提到的ARP防护功能，其实它的原理就是定期的发送自己正确的ARP信息。但是路由器的这种功能对于真正意义上的攻击，是不能解决的。<br />
　　遭受ARP攻击的最常见的特征就是掉线，一般情况下不需要处理一定时间内可以回复正常上网，因为ARP欺骗是有老化时间的，过了老化时间就会自动的回复正常。现在大多数路由器都会在很短时间内不停广播自己的正确ARP信息，使受骗的主机回复正常。但是如果出现攻击性ARP欺骗(其实就是时间很短的量很大的欺骗ARP，1秒有个几百上千的)，它是不断的发起ARP欺骗包来阻止内网机器上网，即使路由器不断广播正确的包也会被他大量的错误信息给淹没。<br />
　　可能你会有疑问：我们也可以发送比欺骗者更多更快正确的ARP信息啊？如果攻击者每秒发送1000个ARP欺骗包，那我们就每秒发送1500个正确的ARP信息！<br />
　　面对上面的疑问，我们仔细想想，如果网络拓扑很大，网络中接了很多网络设备和主机，大量的设备都去处理这些广播信息，那网络使用起来好不爽，再说了会影响到我们工作和学习。ARP广播会造成网络资源的浪费和占用。如果该网络出了问题，我们抓包分析，数据包中也会出现很多这类ARP广播包，对分析也会造成一定的影响。</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2008/137.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>卡巴斯基中国公司推出3台双线升级服务器</title>
		<link>http://www.biglee.cn/blog/2007/33.html</link>
		<comments>http://www.biglee.cn/blog/2007/33.html#respond</comments>
		<pubDate>Mon, 30 Nov -0001 00:00:00 +0000</pubDate>
		<dc:creator><![CDATA[Lee]]></dc:creator>
				<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false"></guid>
		<description><![CDATA[卡巴斯基中国公司推出3台双线升级服务器, 三台服务器均为 电信/网通 的双线服务器, ping 值都在 42m &#8230; <a href="http://www.biglee.cn/blog/2007/33.html" class="more-link">继续阅读<span class="screen-reader-text">“卡巴斯基中国公司推出3台双线升级服务器”</span></a>]]></description>
				<content:encoded><![CDATA[<p>卡巴斯基中国公司推出3台双线升级服务器, 三台服务器均为 电信/网通 的双线服务器, ping 值都在 42ms 左右, 速度相当快!<br />
以下为新更新地址:<br />
http://dnl-cn1.kaspersky-labs.com<br />
http://dnl-cn2.kaspersky-labs.com<br />
http://dnl-cn3.kaspersky-labs.com<br />
使用升级站点步骤 (仅适用于6.0个人版用户) :<br />
1、在 &#34;服务&#34; -〉 &#34;更新&#34; 上点鼠标右键, 选择 &#34;设置&#34; ;<br />
2、在 &#34;更新设置&#34; 中选择 &#34;自定义&#34; 按钮;<br />
3、在弹出的对话框中, 选择 &#34;更新服务器&#34; 标签;<br />
4、点击 &#34;添加&#34; 按钮, 在 &#34;源&#34; 后的方框中加入&#34;http://dnl-cn1.kaspersky-labs.com<br />
&#34;或 &#34;http://dnl-cd1.kaspersky-labs.com&#34; , 点击 &#34;确定&#34; ;<br />
5、退回到 &#34;更新服务器&#34; 标签下, 去掉 &#34;卡巴斯基实验室更新服务器&#34; 前面的勾. 如果之前使用了离线升级包的方式进行升级, 也请去掉相应的离线升级包前的勾, 选择确定 </p>
<p>我试了下，速度超快。。。</p>
]]></content:encoded>
			<wfw:commentRss>http://www.biglee.cn/blog/2007/33.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>

<!DOCTYPE html>
<html lang="zh-CN" class="no-js">
<head>
	<meta charset="UTF-8">
	<base href="https://www.biglee.cn/">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>网站技术 &#8211; 第7页 &#8211; 网站建设技术集锦</title>
<link rel='dns-prefetch' href='//s.w.org'>
<link rel="alternate" type="application/rss+xml" title="网站建设技术集锦 &raquo; Feed" href="/feed" />
<link rel="alternate" type="application/rss+xml" title="网站建设技术集锦 &raquo; 评论Feed" href="/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="网站建设技术集锦 &raquo; 网站技术分类目录Feed" href="/blog/category/web_development/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='genericons-css'  href='/wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='/wp-content/themes/twentysixteen/style.css?ver=4.6' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		</head>

<body class="archive paged category category-web_development category-9 paged-7 category-paged-7 hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">跳至内容</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="/" rel="home">网站建设技术集锦</a></p>
											<p class="site-description">涉及网站建设、服务器维护等IT技术的博客</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">菜单</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="主菜单">
								<div class="menu-%e5%af%bc%e8%88%aa-container"><ul id="menu-%e5%af%bc%e8%88%aa" class="primary-menu"><li id="menu-item-309" class="menu-item menu-item-type-taxonomy menu-item-object-category current-menu-item menu-item-309"><a href="/blog/category/web_development">网站技术</a></li>
<li id="menu-item-310" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-310"><a href="/blog/category/pc_technology">PC技术</a></li>
<li id="menu-item-311" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-311"><a href="/blog/category/orther">杂货铺</a></li>
<li id="menu-item-312" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-312"><a href="/blog/category/entertainment">影音娱乐</a></li>
<li id="menu-item-313" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-313"><a href="/blog/category/life">网络生活</a></li>
<li id="menu-item-314" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-314"><a href="/blog/category/digest">文摘</a></li>
<li id="menu-item-315" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-315"><a href="/blog/category/database">数据库</a></li>
<li id="menu-item-316" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-316"><a href="/blog/category/network">网络安全</a></li>
<li id="menu-item-317" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-317"><a href="/blog/category/management">管理营运</a></li>
<li id="menu-item-318" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-318"><a href="/blog/category/dotnet">.Net</a></li>
<li id="menu-item-323" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-323"><a href="/about_me">关于我</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">分类：网站技术</h1>			</header><!-- .page-header -->

			
<article id="post-201" class="post-201 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2012/201.html" rel="bookmark">10位顶级PHP大师的开发原则</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　1. 在合适的时候使用PHP – Rasmus Lerdorf</p>
<p>　　没有谁比PHP的创建者Rasmus Lerdorf明白PHP用在什么地方是更合理的，他于1995年发布了PHP这门语言，从那时起，PHP就像燎原之火，烧遍了整个开发阵营，改变了互联网的世界。可是，Rasmus并不是因此而创建PHP的。PHP是为了解决web开发者的实际问题而诞生的。</p>
<p>　　和许多开源项目一样，PHP变得流行，流行的动机并不能用正常的哲学来进行解释，甚至流行得有些孤芳自赏。它完全可以作为一个案例，一个解决各种Web问题的工具需求所引起的案例，因此当PHP刚出现的时候，这种工具需求全部聚焦到PHP的身上。</p>
<p>　　但是，你不能奢望PHP可以解决所有问题。Lerdorf是第一个承认PHP只是一种工具的人，并且PHP也有很多力所不能及的情况。</p>
<p>　　根据工作的不同来选择合适的工具。我跑了很多家公司，为了说服他们部署和使用PHP，但是这并不意味着PHP对所有问题都适用。它只是可以一个解决大部分问题的front-end脚步语言。</p>
<p>　　作为一个web开发者，尝试用PHP解决所有问题是不科学的，同时也会浪费你的时间。当PHP玩不转的时候，不要犹豫，试用一下其他的语言吧。</p>
<p>　　2. 使用多表存储提高规模伸缩性 – Matt Mullenweg</p>
<p>　　没有人愿意质疑Matt Mullenweg在PHP方面的权威性，他开发了这个星球上最流行的blog系统,(依靠一个强大的社区力量支持)： WordPress. 创建Wordpress以后，Matt和他的团队启动了WordPress.com平台，一个基于WordPress MU的免费blog站点。现在，Wordpress.com已经拥有大约400万用户， 这些用户每天提供超过 140,000篇的日志。 </p>
<p>　　如果有人知道如何让网站的规模伸缩自如，这个人一定是Matt Mullenweg。2006年的时候 Matt对Wordpress的数据结构进行了前瞻性的改进，并且解释了为什么Wordpress MU对每个blog使用独立的MYSQL表格， 而不是把所有的blog数据都塞进一个巨大的表格。</p>
<p>　　我们测试过这个方法，但是发现如果要扩展它的伸缩性，代价太高。如果用一个整体的数据结构，在大流量面前，你将会面临服务器 硬件的问题。在MU里面。用户们都被分布到独立的表格当中，并且可以轻易地组织起来。举个例子，WordPress.com把用户的数据分散存储到4096个数据库中，这些数据库可以分散大规模的数据访问，实现流量和压力分流。</p>
<p>　　数据表的可迁移性让代码(blog)可以运行得更快，并且让系统具备更强的伸缩性。依靠强大的缓存策略和灵活的数据库运用策略， Matt向人们展示了时下最流行的Facebook和Wordpress.com都可以在PHP下稳定运行，并且处理惊人的访问量。</p>
<p>　　3. 千万不要相信用户 – Dave Child</p>
<p>　　Dave Child是Added Bytes (previously ilovejackdaniels.com) 网站的核心人物，这个网站以他出色的《cheat sheets for many programming languages》而闻名。 Dave为很多英国的公司服务，并且已经在编程世界里树立起相当的权威。</p>
<p>　　Dave为PHP开发者提供了很多深谋远虑的建议，并总结成了《writing secure code in PHP》：千万不要相信你的用户，他们甚至可能会伤害你。</p>
<p>　　有一条web开发的基本原则，我重复多少遍都觉得不够，那就是：千万不要相信你的用户，同时要假设你网站中的每个数据单元都是从用户那里收集来的恶意代码。很多时候，你必须用javascri&#112;t在客户端检验表单提交过来的内容， 如果你习惯了如此，那么，这是一个好习惯。如果安全性对你来说很重要，这就是最重要最需要学习的原则。</p>
<p>　　Dave目前正致力于为它的《Writing Secure PHP》系列书籍整理实例，书的最后他说:</p>
<p>　　最后，变得偏执一点吧。除非你认为你的站点永远不会受到攻击，否则就正视所有的问题，当问题真正发生的时候，你的情况会变得很糟。你需要把每个用户都看成会带来一场攻防站的黑客，想尽一切办法来保护站点的安全，同时想好相应问题的解决方案。</p>
<p>　　4. 多使用PHP缓存 – Ben Balbo</p>
<p>　　Ben Balbo开发了Site Point，一个为developers和designers提供指导的网站。他是墨尔本PHP开发和开源俱乐部的成员， 因此他对PHP有一定的了解，同时对PHP caching有一定的想法和经验。</p>
<p>　　如果你拥有一个访问量很大，但更新并不频繁的站点(比如blog，基于某种CMS)，或许它需要进行一些改造，这些改造不会花费太多的时间，但是对性能有突出的贡献。 如果要为一个复杂/更新频率很快的站点建立缓存机制，过程可能会很曲折，但是好处也是显而易见的。</p>
<p>　　PHP缓存技术有很多种，Ben为我们推荐了如下一些:</p>
<p>　　◆缓存函数的运行结果</p>
<p>　　◆设置过期时间</p>
<p>　　◆缓存IE下载的文件</p>
<p>　　◆模板缓存技术</p>
<p>　　◆Cache_Lite</p>
<p>　　由于PHP作为动态语言的特性，缓存机制对于更新频率并不快的站点来说非常重要。</p>
<p>　　5. 使用IDE, Templates和Snippets加速PHP开发 – Chad Kieffer</p>
<p>　　当Chad Kieffer从UI设计和数据库优化的工作中抽身出来的时候，他会在他的博客2 tablespoons上分享很多技术经验。由于Chad多方面的全面发展，他经常可以发现其他程序员不能发现的问题，并形成相关经验，尤其是他开发网站的方法。他参与了网站开发的各个环节，因此他的建议对于提高网站开发的大局观非常有用。</p>
<p>　　Chad认为使用Eclipse PDT(Eclipse’s PHP development package) 这样的IDE，同时使用一些模板技术和开源项目可以有效地提高PHP的开发速度。</p>
<p>　　紧凑的计划，长长的to do lists以及deadlines让开发人员非常苦闷。不过有些功能，比如Eclipse Templates，可以有效减少编码的时间和出错的几率。</p>
<p>　　通常来说，任何项目都可以自动化，自动化程度越高， 你完成项目的时间就越短。花时间来开发使用频率很高的框架和模板，将会节省你以后更多时间。同时，使用像Eclipse and the PDT package这样的IDE，你会发现效率得到明显提高，IDE可以自动闭合，补全分号并且可以在本地debug。</p>
<p>　　6. 利用好PHP的过滤函数 – Joey Sochacki</p>
<p>　　或许Joey Sochacki并不像Matt Mullenweg那样有名 ，但他也是一个经验丰富的开发者，并且通过他的博客Devolio分享了很多技术经验</p>
<p>　　Joey发现在编写php代码的过程中有很多地方需要进行过滤，但却并没有太多的coder关注php的内置过滤函数。</p>
<p>　　过滤数据是我们经常需要做的事情，但是很多功能丰富的PHP内置过滤函数却不为人知。使用类似filter_* 的PHP内置函数，我们几乎可以处理所有的过滤任务，包括数据类型验证/URL/email和IP地址验证/特殊字符处理等等。</p>
<p>　　过滤是一件复杂的事情，但是我相信joey的发现会给你很多启发，让你认识到PHP强大的过滤功能。</p>
<p>　　7. 使用PHP框架 – Josh Sharp</p>
<p>　　对于是否应该使用Zend, CakePHP, Code Igniter, 或者 其他PHP框架，一直存在着很多争议，但是在web开发者的心中，他们有自己衡量的标准。</p>
<p>　　Josh Sharp自己创建了一家提供面包和黄油服务的网站，因此他对于使用PHP框架来开发网站有一定的经验。他认为使用一个PHP框架来进行项目开发(use a PHP framework )，可以有效地节省时间，并且减少出错的几率。为什么?因为他觉得PHP实在是太好上手了。</p>
<p>　　PHP的易于使用有时候也有缺陷，因为并不严格的语法，经常会导致很多错误代码的诞生。但如果使用一个PHP框架，出错的几率就会大大减少。</p>
<p>　　PHP框架可以让你的代码结构更加规范，并且节省大量时间。</p>
<p>　　8. 不要使用PHP框架 – Rasmus Lerdorf</p>
<p>　　与Josh的观点恰恰相反，PHP的鼻祖Rasmus Lerdorf却认为最好不要使用PHP框架，为什么?因为不基于框架的PHP性能更好。Rasmus在Drupalcon 2008的演讲上，用“Hello World”的例子来对比了一些框架PHP和简单PHP之间的性能，结果显示框架PHP的性能要远远落后。</p>
<p>　　9. 使用批处理 – Jack D. Herrington</p>
<p>　　Jack Herrington对PHP世界并不陌生， 并且为大名鼎鼎的IBM developerWorks贡献过超过30篇的专搞， 同时出版过《PHP Hacks》的书，因此他是一个真正的专家。</p>
<p>　　Herrington推荐使用批处理和Cron来代替那些可以运行在后台的程序脚步，Web用户并不愿意在线等待你的处理过程，所以有些事情更适合放到后台来处理。</p>
<p>　　诚然，在某些情况下，这有点大材小用了，但是你可以清楚地看到，使用Cron, MySQL, PHP面向对象的方法以及Pear::DB这些便捷的工具来创建一个批处理工具并不是一件复杂的事情。</p>
<p>　　Jack认为使用cron, PHP和MySQL在后台处理一些任务，比起多进程的业务逻辑要划算得多。</p>
<p>　　两种方法我都尝试过，我认为Cron非常符合”Keep It Simple, Stupid” (KISS) 的原则，它让后台处理变得简单。与多进程的业务逻辑相比，它没有内存 溢出的风险。你可以创建一个简单的批处理脚本，并且在cron中运行，这个脚本会定时检查是否有任务需要处理，处理完之后就会自动退出，因此你不用担心是否有进程卡壳，或者陷入死循环。</p>
<p>　　10. 及时启用错误报告 – David Cummings</p>
<p>　　David Cummings有一个专门提供CMS软件服务的公司 ，并且获得过几次奖 ，他有非常丰富的PHP开发经验。David曾经写过《two PHP tips he wished he’d learned in the beginning》，其中一点就是：及时启用错误报告，这会节省大量的时间。</p>
<p>　　我告诉人们，最重要的事情就是最大程度地开启PHP的错误报告，为什么?因为PHP可能会隐藏很多小问题：</p>
<p>　　◆变量没有预定义</p>
<p>　　◆在代码片段中引用了不可用的变量</p>
<p>　　◆使用了未定义的常量这些因素看起来并不是什么大事，除非你在使用面向对象的方法编写一些类库。通常，关闭错误报告将可能使你付出更大的成本来维护你的代码。</p>
<p>　　错误报告可以帮你轻易地找到代码的问题所在，如果错误报告的等级够高，细微的错误都能被立即发现，帮助你节省整体debug的时间。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2012/201.html" rel="bookmark"><time class="entry-date published" datetime="2012-03-28T16:04:57+00:00">2012年3月28日</time><time class="updated" datetime="2012-03-28T04:38:00+00:00">2012年3月28日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2012/201.html#respond"><span class="screen-reader-text">于10位顶级PHP大师的开发原则</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-200" class="post-200 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2012/200.html" rel="bookmark">PJBlog日志删除后访问页面出错的解决方案</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　今天查看我这个博客的访问来源和访问入口时点击了其中一个被访页面，发现出现错误：[quote]错误 &#39;80020009&#39;<br />
/blog/article.asp，行 33<br />
[/quote]<br />
　　仔细一想，这个文章是在原来的服务器上用上个版本时忘了开启目录写权限，发布文章时文章没显示出来就多发布了几次后来删除掉的，但由于前几天转移服务器时原来的数据没及时备份出来，把老的数据处理了下，这时删除掉的不是原来删除掉的文章，导致搜索引擎收录也变化了，以至于我把备份恢复后访问到的文章是原来已经删除掉的文章。<br />
　　知道问题的起因，那解决起来就容易了。初步判断是程序里判断文章存在与否的语句出现问题。找到article.asp，从行33开始，相关代码如下：[code]    If (log_View.EOF o&#114; log_View.bof) o&#114; (log_View(&#8220;log_IsDraft&#8221;) = True And not stat_Admin And memName &lt;&gt; log_View(&#8220;log_Author&#8221;)) Then<br />
        log_View.Close<br />
        showmsg &#8220;错误信息&#8221;, &#8220;不存在当前日志！&lt;br/&gt;&lt;a href=&#8221;&#8221;default.asp&#8221;&#8221;&gt;单击返回&lt;/a&gt;&#8221;, &#8220;ErrorIcon&#8221;, &#8220;&#8221;<br />
    End If<br />
[/code]<br />
果然，33行这个判断语句有业务逻辑上的错误。这里的意思是判断文章存在与否及是否有阅读权限。由于VBS里的Or是要把所有的条件都执行一次的，所以虽然前面已经能判断出记录不存在，但后面还是继续做判断，而在记录不存在的情况下再读取其中的字段值就会出错了。修改下判断的流程，做两步判断，先判断记录是否存在，然后再判断是否有阅读权限。修改后的代码如下：[code]    If log_View.EOF o&#114; log_View.bof Then<br />
        log_View.Close<br />
        showmsg &#8220;错误信息&#8221;, &#8220;不存在当前日志！&lt;br/&gt;&lt;a href=&#8221;&#8221;default.asp&#8221;&#8221;&gt;单击返回&lt;/a&gt;&#8221;, &#8220;ErrorIcon&#8221;, &#8220;&#8221;<br />
    End If</p>
<p>    If log_View(&#8220;log_IsDraft&#8221;) = True And not stat_Admin And memName &lt;&gt; log_View(&#8220;log_Author&#8221;) Then<br />
        log_View.Close<br />
        showmsg &#8220;错误信息&#8221;, &#8220;不存在当前日志！&lt;br/&gt;&lt;a href=&#8221;&#8221;default.asp&#8221;&#8221;&gt;单击返回&lt;/a&gt;&#8221;, &#8220;ErrorIcon&#8221;, &#8220;&#8221;<br />
    End If<br />
[/code]<br />
　　测试通过。<br />
　　错误问题是解决，但随后我又考虑到一个问题，像这种从搜索引擎过来的，都是找相关信息的，如果遇到这样删除掉的文章，或者像我这样文章还在，只是id变了，最终看到的却只是文章不存在的提示，多不友好。我想可以通过来源获取相关关键字，然后搜索本站，找到相关的文章供来访者参考。由于时间关系，具体实现代码有空再写。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2012/200.html" rel="bookmark"><time class="entry-date published" datetime="2012-03-21T09:35:20+00:00">2012年3月21日</time><time class="updated" datetime="2012-03-28T04:07:00+00:00">2012年3月28日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2012/200.html#respond"><span class="screen-reader-text">于PJBlog日志删除后访问页面出错的解决方案</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-199" class="post-199 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2012/199.html" rel="bookmark">PHP数组的Hash冲突实例</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>上一篇文章, 我介绍了一个<a href="https://www.biglee.cn/blog/2012/198.html"><font color="#0000cc">利用Hash冲突(碰撞)来对各种语言(包括,PHP, Java, Ruby等等)实施拒绝服务攻击的可能</font></a>, 但是没有给出实例, 文章发出后, @Ferrari同学给出了一个另外一篇文章<a href="http://nikic.github.com/2011/12/28/Supercolliding-a-PHP-array.html"><font color="#0000cc">Supercolliding a PHP array</font></a>, 文章中作者介绍了一种基于PHP的冲突实例, 以及带来的性能恶化对比. 我就借花献佛, 翻译给大家看看.</p>
<p>你知道不知道, 插入65536个经过构造的键值的元素到PHP数组, 会需要耗时30秒以上? 而一般的这个过程仅仅需要0.1秒..</p>
<p>请看如下的例子:</p>
<pre class="sh_php sh_sourceCode" name="code" linenum="off">
<ol>
    <li><span class="sh_symbol">&amp;lt;?php</span></li>
    <li><span class="sh_variable"><font color="#c6c5fe">$size</font></span> <span class="sh_symbol">=</span> <span class="sh_function"><font color="#ffd2a7">pow</font></span><span class="sh_symbol">(</span><span class="sh_number"><font color="#ff73fd">2</font></span><span class="sh_symbol">,</span> <span class="sh_number"><font color="#ff73fd">16</font></span><span class="sh_symbol">);</span> </li>
    <li>&amp;nbsp;</li>
    <li><span class="sh_variable"><font color="#c6c5fe">$startTime</font></span> <span class="sh_symbol">=</span> <span class="sh_function"><font color="#ffd2a7">microtime</font></span><span class="sh_symbol">(</span>true<span class="sh_symbol">);</span></li>
    <li><span class="sh_variable"><font color="#c6c5fe">$array</font></span> <span class="sh_symbol">=</span> <span class="sh_keyword"><font color="#96cbfe">array</font></span><span class="sh_symbol">();</span></li>
    <li><span class="sh_keyword"><font color="#96cbfe">for</font></span> <span class="sh_symbol">(</span><span class="sh_variable"><font color="#c6c5fe">$key</font></span> <span class="sh_symbol">=</span> <span class="sh_number"><font color="#ff73fd">0</font></span><span class="sh_symbol">,</span> <span class="sh_variable"><font color="#c6c5fe">$maxKey</font></span> <span class="sh_symbol">=</span> <span class="sh_symbol">(</span><span class="sh_variable"><font color="#c6c5fe">$size</font></span> <span class="sh_symbol">-</span> <span class="sh_number"><font color="#ff73fd">1</font></span><span class="sh_symbol">)</span> <span class="sh_symbol">*</span> <span class="sh_variable"><font color="#c6c5fe">$size</font></span><span class="sh_symbol">;</span> <span class="sh_variable"><font color="#c6c5fe">$key</font></span> <span class="sh_symbol">&amp;lt;=</span> <span class="sh_variable"><font color="#c6c5fe">$maxKey</font></span><span class="sh_symbol">;</span> <span class="sh_variable"><font color="#c6c5fe">$key</font></span> <span class="sh_symbol">+=</span> <span class="sh_variable"><font color="#c6c5fe">$size</font></span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li>
    <li>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<span class="sh_variable"><font color="#c6c5fe">$array</font></span><span class="sh_symbol">[</span><span class="sh_variable"><font color="#c6c5fe">$key</font></span><span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_number"><font color="#ff73fd">0</font></span><span class="sh_symbol">;</span></li>
    <li><span class="sh_cbracket">}</span></li>
    <li><span class="sh_variable"><font color="#c6c5fe">$endTime</font></span> <span class="sh_symbol">=</span> <span class="sh_function"><font color="#ffd2a7">microtime</font></span><span class="sh_symbol">(</span>true<span class="sh_symbol">);</span></li>
    <li><span class="sh_keyword"><font color="#96cbfe">echo</font></span> <span class="sh_string"><font color="#a8ff60">&#39;插入 &#39;</font></span><span class="sh_symbol">,</span> <span class="sh_variable"><font color="#c6c5fe">$size</font></span><span class="sh_symbol">,</span> <span class="sh_string"><font color="#a8ff60">&#39; 个恶意的元素需要 &#39;</font></span><span class="sh_symbol">,</span> <span class="sh_variable"><font color="#c6c5fe">$endTime</font></span> <span class="sh_symbol">-</span> <span class="sh_variable"><font color="#c6c5fe">$startTime</font></span><span class="sh_symbol">,</span> <span class="sh_string"><font color="#a8ff60">&#39; 秒&#39;</font></span><span class="sh_symbol">,</span> <span class="sh_string"><font color="#a8ff60">&amp;quot;
&amp;quot;</font></span><span class="sh_symbol">;</span></li>
    <li>&amp;nbsp;</li>
    <li><span class="sh_variable"><font color="#c6c5fe">$startTime</font></span> <span class="sh_symbol">=</span> <span class="sh_function"><font color="#ffd2a7">microtime</font></span><span class="sh_symbol">(</span>true<span class="sh_symbol">);</span></li>
    <li><span class="sh_variable"><font color="#c6c5fe">$array</font></span> <span class="sh_symbol">=</span> <span class="sh_keyword"><font color="#96cbfe">array</font></span><span class="sh_symbol">();</span></li>
    <li><span class="sh_keyword"><font color="#96cbfe">for</font></span> <span class="sh_symbol">(</span><span class="sh_variable"><font color="#c6c5fe">$key</font></span> <span class="sh_symbol">=</span> <span class="sh_number"><font color="#ff73fd">0</font></span><span class="sh_symbol">,</span> <span class="sh_variable"><font color="#c6c5fe">$maxKey</font></span> <span class="sh_symbol">=</span> <span class="sh_variable"><font color="#c6c5fe">$size</font></span> <span class="sh_symbol">-</span> <span class="sh_number"><font color="#ff73fd">1</font></span><span class="sh_symbol">;</span> <span class="sh_variable"><font color="#c6c5fe">$key</font></span> <span class="sh_symbol">&amp;lt;=</span> <span class="sh_variable"><font color="#c6c5fe">$maxKey</font></span><span class="sh_symbol">;</span> <span class="sh_symbol">++</span><span class="sh_variable"><font color="#c6c5fe">$key</font></span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li>
    <li>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<span class="sh_variable"><font color="#c6c5fe">$array</font></span><span class="sh_symbol">[</span><span class="sh_variable"><font color="#c6c5fe">$key</font></span><span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_number"><font color="#ff73fd">0</font></span><span class="sh_symbol">;</span></li>
    <li><span class="sh_cbracket">}</span></li>
    <li><span class="sh_variable"><font color="#c6c5fe">$endTime</font></span> <span class="sh_symbol">=</span> <span class="sh_function"><font color="#ffd2a7">microtime</font></span><span class="sh_symbol">(</span>true<span class="sh_symbol">);</span></li>
    <li><span class="sh_keyword"><font color="#96cbfe">echo</font></span> <span class="sh_string"><font color="#a8ff60">&#39;插入 &#39;</font></span><span class="sh_symbol">,</span> <span class="sh_variable"><font color="#c6c5fe">$size</font></span><span class="sh_symbol">,</span> <span class="sh_string"><font color="#a8ff60">&#39; 个普通元素需要 &#39;</font></span><span class="sh_symbol">,</span> <span class="sh_variable"><font color="#c6c5fe">$endTime</font></span> <span class="sh_symbol">-</span> <span class="sh_variable"><font color="#c6c5fe">$startTime</font></span><span class="sh_symbol">,</span> <span class="sh_string"><font color="#a8ff60">&#39; 秒&#39;</font></span><span class="sh_symbol">,</span> <span class="sh_string"><font color="#a8ff60">&amp;quot;
&amp;quot;</font></span><span class="sh_symbol">;</span></li>
</ol>
</pre>
<p>上面的例子, 在我的机器上的执行结果如下:</p>
<pre class="sh_bash" name="code" linenum="off">
<ol>
    <li>插入 65536 个恶意的元素需要 43.1438360214 秒</li>
    <li>插入 65536 个普通元素需要 0.0210378170013 </li>
</ol>
</pre>
<p>这个差别是不是很夸张?!</p>
<p>我在<a href="http://www.laruence.com/2011/12/29/2412.html"><font color="#0000cc">上一篇文章中</font></a>介绍过, 经过特殊构造的键值, 使得PHP每一次插入都会造成Hash冲突, 从而使得PHP中array的底层Hash表退化成链表:</p>
<div style="WIDTH: 618px" id="attachment_2415" class="wp-caption aligncenter"><a href="http://laruence-wordpress.stor.sinaapp.com/uploads/Untitled3.png"><img class="size-full wp-image-2415" title="Hash collision" alt="" src="http://laruence-wordpress.stor.sinaapp.com/uploads/Untitled3.png" width="608" height="223" /></a></p>
<p class="wp-caption-text">Hash collision</p>
</div>
<p>这样在每次插入的时候PHP都需要遍历一遍这个链表, 大家可以想象, 第一次插入, 需要遍历0个元素, 第二次是1个, 第三次是3个, 第65536个是65535个, 那么总共就需要65534*65535/2=2147385345次遍历&amp;hellip;.</p>
<p>&amp;nbsp;</p>
<p>那么, 这个键值是怎么构造的呢?</p>
<p>在PHP中,如果键值是数字, 那么Hash的时候就是数字本身, 一般的时候都是, index &amp;amp; tableMask. 而tableMask是用来保证数字索引不会超出数组可容纳的元素个数值, 也就是数组个数-1.</p>
<p>PHP的Hashtable的大小都是2的指数, 比如如果你存入10个元素的数组, 那么数组实际大小是16, 如果存入20个, 则实际大小为32, 而63个话, 实际大小为64. 当你的存入的元素个数大于了数组目前的最多元素个数的时候, PHP会对这个数组进行扩容, 并且从新Hash.</p>
<p>现在, 我们假设要存入64个元素(中间可能会经过扩容, 但是我们只需要知道, 最后的数组大小是64, 并且对应的tableMask为63:0111111), 那么如果第一次我们存入的元素的键值为0, 则hash后的值为0, 第二次我们存入64, hash(1000000 &amp;amp; 0111111)的值也为0, 第三次我们用128, 第四次用192&amp;hellip; 就可以使得底层的PHP数组把所有的元素都Hash到0号bucket上, 从而使得Hash表退化成链表了.</p>
<p>当然, 如果键值是字符串的话, 就稍微比较麻烦一些了, 但是PHP的<a href="http://www.laruence.com/2009/07/23/994.html"><font color="#0000cc">Hash算法</font></a>是开源的, 已知的, 所以有心人也可以做到</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2012/199.html" rel="bookmark"><time class="entry-date published" datetime="2012-01-06T22:09:50+00:00">2012年1月6日</time><time class="updated" datetime="2012-01-06T10:11:00+00:00">2012年1月6日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2012/199.html#respond"><span class="screen-reader-text">于PHP数组的Hash冲突实例</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-198" class="post-198 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2012/198.html" rel="bookmark">通过构造Hash冲突实现各种语言的拒绝服务攻击</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>上周的时候Dmitry突然在5.4发布在即的时候, 引入了一个新的配置项:</p>
<p>Added max_input_vars directive to prevent attacks based on hash collision</p>
<p>这个预防的攻击, 就是&rdquo;通过调用Hash冲突实现各种语言的拒绝服务攻击漏洞&rdquo;(multiple implementations denial-of-service via hash algorithm collision).</p>
<p>攻击的原理很简单, 目前很多语言, 使用hash来存储k-v数据, 包括常用的来自用户的POST数据, 攻击者可以通过构造请求头, 并伴随POST大量的特殊的&rdquo;k&rdquo;值(根据每个语言的Hash算法不同而定制), 使得语言底层保存POST数据的Hash表因为&rdquo;冲突&rdquo;(碰撞)而退化成链表.<br />
<a href="http://laruence-wordpress.stor.sinaapp.com/uploads/Untitled3.png"><img class="aligncenter size-full wp-image-2415" title="Hash collision" alt="" width="608" height="223" src="http://laruence-wordpress.stor.sinaapp.com/uploads/Untitled3.png" /></a></p>
<p>这样一来, 如果数据量<b>足够大</b>, 那么就可以使得语言在计算, 查找, 插入的时候, 造成大量的CPU占用, 从而实现拒绝服务攻击.</p>
<p>PHP5.4是通过增加一个限制来尽量避免被此类攻击影响:</p>
<pre class="sh_bash" linenum="off" name="code"><ol>
    <li>&nbsp;&nbsp;- max_input_vars - specifies how many GET/POST/COOKIE input variables may be</li><li>&nbsp;&nbsp;&nbsp;&nbsp;accepted. default value 1000</li></ol>
</pre>
<p>&nbsp;</p>
<p><b>目前已知的受影响的语言以及版本有:</b>:</p>
<p><a href="http://www.java.com/"><font color="#0000cc">Java</font></a>, 所有版本</p>
<p><a href="http://jruby.org/"><font color="#0000cc">JRuby</font></a> &lt;= 1.6.5</p>
<p><a href="http://www.php.net/"><font color="#0000cc">PHP</font></a> &lt;= 5.3.8, &lt;= 5.4.0RC3</p>
<p><a href="http://python.org/"><font color="#0000cc">Python</font></a>, 所有版本</p>
<p><a href="http://rubini.us/"><font color="#0000cc">Rubinius</font></a>, 所有版本</p>
<p><a href="http://www.ruby-lang.org/"><font color="#0000cc">Ruby</font></a> &lt;= 1.8.7-p356</p>
<p><a href="http://geronimo.apache.org/"><font color="#0000cc">Apache Geronimo</font></a>, 所有版本</p>
<p><a href="http://tomcat.apache.org/"><font color="#0000cc">Apache Tomcat</font></a> &lt;= 5.5.34, &lt;= 6.0.34, &lt;= 7.0.22</p>
<p><a href="http://glassfish.java.net/"><font color="#0000cc">Oracle Glassfish</font></a> &lt;= 3.1.1</p>
<p><a href="http://www.eclipse.org/jetty/"><font color="#0000cc">Jetty</font></a>, 所有版本</p>
<p><a href="http://plone.org/"><font color="#0000cc">Plone</font></a>, 所有版本</p>
<p><a href="http://rack.rubyforge.org/"><font color="#0000cc">Rack</font></a>, 所有版本</p>
<p><a href="http://code.google.com/p/v8/"><font color="#0000cc">V8 Javascript Engine</font></a>, 所有版本</p>
<p><b>不受此影响的语言或者修复版本的语言有:</b>:</p>
<p><a href="http://www.php.net/"><font color="#0000cc">PHP</font></a> &gt;= 5.3.9, &gt;= 5.4.0RC4</p>
<p><a href="http://jruby.org/"><font color="#0000cc">JRuby</font></a> &gt;= 1.6.5.1</p>
<p><a href="http://www.ruby-lang.org/"><font color="#0000cc">Ruby</font></a> &gt;= 1.8.7-p357, 1.9.x</p>
<p><a href="http://tomcat.apache.org/"><font color="#0000cc">Apache Tomcat</font></a> &gt;= 5.5.35, &gt;= 6.0.35, &gt;= 7.0.23</p>
<p><a href="http://glassfish.java.net/"><font color="#0000cc">Oracle Glassfish</font></a>, N/A (Oracle reports that the issue is fixed in the main codeline and scheduled for a future CPU)</p>
<p><b>CVE</b>: <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4885"><font color="#0000cc">CVE-2011-4885</font></a> (PHP), <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4885"><font color="#0000cc">CVE-2011-4461</font></a> (Jetty), <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4838"><font color="#0000cc">CVE-2011-4838</font></a> (JRuby), <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4885"><font color="#0000cc">CVE-2011-4462</font></a> (Plone), <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4815"><font color="#0000cc">CVE-2011-4815</font></a> (Ruby)</p>
<p>原文: <a href="http://www.ocert.org/advisories/ocert-2011-003.html"><font color="#0000cc">http://www.ocert.org/advisories/ocert-2011-003.html</font></a></p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2012/198.html" rel="bookmark"><time class="entry-date published" datetime="2012-01-06T22:09:03+00:00">2012年1月6日</time><time class="updated" datetime="2012-03-28T04:28:00+00:00">2012年3月28日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2012/198.html#respond"><span class="screen-reader-text">于通过构造Hash冲突实现各种语言的拒绝服务攻击</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-191" class="post-191 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2011/191.html" rel="bookmark">2011 年 20 个最棒的免费 HTML5 网站模板</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p><span style="LINE-HEIGHT: 24px; FONT-FAMILY: Verdana, Simsun, sans-serif" class="Apple-style-span">　　HTML5 现在很火你知道吗，如果不知道你就比我小编辑还 out 了，别再觉得 HTML5 为时尚早了，现在开始学才不晚。</span></p>
<p><span style="LINE-HEIGHT: 24px; FONT-FAMILY: Verdana, Simsun, sans-serif" class="Apple-style-span"></p>
<h3 style="TEXT-ALIGN: left">1. <a href="http://blog.templatemonster.com/2011/07/11/free-website-template-slider-typography/" target="_blank">Free Website Template Slider Typography</a></h3>
<p style="TEXT-ALIGN: center"><img class="aligncenter size-full wp-image-1572" title="Free-Website-Template" alt="" src="http://zoomzum.com/wp-content/uploads/2011/07/Free-Website-Template-e1310460770290.jpg" width="600" height="919" /></p>
<h3 style="TEXT-ALIGN: left">2. <a href="http://www.templatemonster.com/free-templates/free-communications-html5-website-template.php">Free Communication HTML5 wesite template</a></h3>
<p style="TEXT-ALIGN: center"><img class="aligncenter size-full wp-image-1573" title="glob" alt="" src="http://zoomzum.com/wp-content/uploads/2011/07/glob-e1310460840179.jpg" width="600" height="720" /></p>
<h3>3. <strong><a href="http://www.templatemonster.com/free-templates/free-html5-website-template-airlines.php" target="_blank">HTML5 website template for airline company</a></strong></h3>
<p style="TEXT-ALIGN: center"><img class="aligncenter size-full wp-image-1574" title="air-lines" alt="" src="http://zoomzum.com/wp-content/uploads/2011/07/air-lines-e1310460940483.jpg" width="600" height="740" /></p>
<h3>4. <strong><a href="http://freehtml5templates.com/theholeinone-html5-and-css3-template/" target="_blank">TheHoleInOne HTML5 template</a></strong></h3>
<p><a href="http://freehtml5templates.com/theholeinone-html5-and-css3-template/"><img class="size-full wp-image-558 aligncenter" title="theholeinone-feature-full" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/theholeinone-feature-full-e1306609711680.png" width="600" height="239" /></a></p>
<h3>5.<strong><a href="http://www.templatemonster.com/free-templates/free-science-html5-template.php" target="_blank">Free Science HTML5 template</a></strong></h3>
<p><a href="http://www.templatemonster.com/free-templates/free-science-html5-template.php"><strong><img class="size-full wp-image-560 aligncenter" title="Free-Science-HTML5-Website-Template" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/Free-Science-HTML5-Website-Template-e1306610270239.jpg" width="600" height="772" /></strong></a></p>
<h3>6.&amp;nbsp; <strong><a href="http://www.templatemonster.com/free-templates/free-html5-template-hosting-website.php" target="_blank">Free HTML5 Template For Hosting&amp;nbsp; Website</a></strong></h3>
<p><a href="http://www.templatemonster.com/free-templates/free-html5-template-hosting-website.php"><img class="size-full wp-image-568 aligncenter" title="Free-HTML5-Template-for-Hosting-Website" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/Free-HTML5-Template-for-Hosting-Website-e1306644598214.jpg" width="600" height="1012" /></a></p>
<h3>7. <strong><a href="http://freehtml5templates.com/cowboyup-html5-and-css3-template/" target="_blank">CowboyUp HTML5 Template</a></strong></h3>
<p><a href="http://freehtml5templates.com/cowboyup-html5-and-css3-template/"><img class="size-full wp-image-570 aligncenter" title="CowboyUp_1306644852590" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/CowboyUp_1306644852590-e1306645078501.png" width="600" height="319" /></a></p>
<h3>8.<strong><a href="http://www.templatemonster.com/free-templates/free-html5-template-real-estate-website.php" target="_blank"> HTML5 Templates For Real Estate Websites</a></strong></h3>
<p><a href="http://www.templatemonster.com/free-templates/free-html5-template-real-estate-website.php"><img class="size-full wp-image-572 aligncenter" title="Free-HTML5-Template-for-Real-Estate-Website" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/Free-HTML5-Template-for-Real-Estate-Website-e1306645273201.jpg" width="600" height="728" /></a></p>
<h3>9.<strong> <a href="http://www.templatemonster.com/free-templates/free-html5-website-template-portfolio.php" target="_blank">HTML5 Portfolio Website Template</a></strong></h3>
<p><a href="http://www.templatemonster.com/free-templates/free-html5-website-template-portfolio.php"><img class="size-full wp-image-576 aligncenter" title="free-html5-portfolio-website-template" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/free-html5-portfolio-website-template-e1306645817468.jpg" width="600" height="602" /></a></p>
<h3>10. <strong><a href="http://www.templatemonster.com/free-templates/free-website-template-business-company.php" target="_blank">Website Template For Business Company</a></strong></h3>
<p><a href="http://www.templatemonster.com/free-templates/free-website-template-business-company.php"><img class="size-full wp-image-579 aligncenter" title="free-website-template-for-business-company" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/free-website-template-for-business-company1-e1306646248386.jpg" width="600" height="694" /></a></p>
<h3>11.<strong> <a href="http://freehtml5templates.com/boldas-html5-and-css3-template/" target="_blank">BoldAs HTML5 Template</a></strong></h3>
<p><a href="http://freehtml5templates.com/boldas-html5-and-css3-template/"><img class="size-full wp-image-580 aligncenter" title="BOLD AS_1306646434682" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/BOLD-AS_1306646434682-e1306646509882.png" width="600" height="336" /></a></p>
<h3>12.<strong> <a href="http://www.templatemonster.com/free-templates/free-html5-website-template-music.php" target="_blank">HTML5 Music Website Template</a></strong></h3>
<p><a href="http://www.templatemonster.com/free-templates/free-html5-website-template-music.php"><img class="size-full wp-image-583 aligncenter" title="free-html5-music-website-template" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/free-html5-music-website-template-e1306646748928.jpg" width="600" height="633" /></a></p>
<h3>13.<strong> <a href="http://www.templatemonster.com/free-templates/free-html5-template-design-company.php" target="_blank">HTML5 Template For Design Company Website</a></strong></h3>
<p style="TEXT-ALIGN: center"><a href="http://www.templatemonster.com/free-templates/free-html5-template-design-company.php"><img class="aligncenter size-full wp-image-1577" title="design company" alt="" src="http://zoomzum.com/wp-content/uploads/2011/07/design-company.jpg" width="600" height="667" /><br /></a></p>
<h3>14.<strong> <a href="http://freehtml5templates.com/architexture-html5-and-css3-template/" target="_blank">ArchiteXtrue HTML5 Template</a></strong></h3>
<p><a href="http://freehtml5templates.com/architexture-html5-and-css3-template/"><img class="size-full wp-image-586 aligncenter" title="ArchiteXture_1306647177488" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/ArchiteXture_1306647177488-e1306647225976.png" width="600" height="320" /></a></p>
<h3>15. <strong><a href="http://www.templatemonster.com/free-templates/free-website-template-learning-center.php" target="_blank">Eductation Website Template For Learn Center</a></strong></h3>
<p><a href="http://www.templatemonster.com/free-templates/free-website-template-learning-center.php"><img class="size-full wp-image-588 aligncenter" title="Free-Website-Template1" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/Free-Website-Template1-e1306647640383.jpg" width="600" height="1110" /></a></p>
<h3>16.<strong> <a href="http://www.templatemonster.com/free-templates/free-facebook-static-template.php" target="_blank">Static Facebook template For Music Band Page</a></strong></h3>
<p><a href="http://www.templatemonster.com/free-templates/free-facebook-static-template.php"><img class="size-full wp-image-594 aligncenter" title="Free-Facebook-Static-Template" alt="" src="http://zoomzum.com/wp-content/uploads/2011/05/Free-Facebook-Static-Template-e1306648243886.jpg" width="600" height="1393" /></a></p>
<h3>&amp;nbsp;17) <a href="http://blog.templatemonster.com/2011/01/11/free-travel-website-template/" target="_blank">Free Travel Website Template</a></h3>
<p><img class="aligncenter size-full wp-image-1579" title="travel" alt="" src="http://zoomzum.com/wp-content/uploads/2011/07/travel-e1310465034438.jpg" width="600" height="699" /></p>
<h3>18) <a href="http://blog.templatemonster.com/2011/01/24/free-business-website-template-efficient-choice/" target="_blank">Free Business Website Template</a></h3>
<p style="TEXT-ALIGN: center"><img class="aligncenter size-full wp-image-1581" title="smartbiz" alt="" src="http://zoomzum.com/wp-content/uploads/2011/07/smartbiz-e1310465205499.jpg" width="600" height="914" /></p>
<h3 style="TEXT-ALIGN: left">19) <a href="http://blog.templatemonster.com/2011/04/04/free-website-template-web-design-studio/" target="_blank">Free Website Template Web Design Studio</a></h3>
<p style="TEXT-ALIGN: center"><img class="aligncenter size-full wp-image-1582" title="studio" alt="" src="http://zoomzum.com/wp-content/uploads/2011/07/studio-e1310465277407.jpg" width="600" height="861" /></p>
<h3 style="TEXT-ALIGN: left">20) <a href="http://blog.templatemonster.com/2011/04/12/free-music-website-template/" target="_blank">Free Music Website Template</a></h3>
<p style="TEXT-ALIGN: center"><img class="aligncenter size-full wp-image-1583" title="music" alt="" src="http://zoomzum.com/wp-content/uploads/2011/07/music-e1310465354470.jpg" width="600" height="987" /></p>
<p></span></p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2011/191.html" rel="bookmark"><time class="entry-date published" datetime="2011-08-05T21:10:21+00:00">2011年8月5日</time><time class="updated" datetime="-001-11-30T00:00:00+00:00">-0001年11月30日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2011/191.html#respond"><span class="screen-reader-text">于2011 年 20 个最棒的免费 HTML5 网站模板</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-190" class="post-190 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2011/190.html" rel="bookmark">在php中使用mysqli中的预处理和事务处理语句操作MySql</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>使用mysqli中的预处理和事务处理语句，效率和安全都比mysql有保障</p>
<p>预处理：<br />
<?php

/*==========mysqli_stmt预处理类(推荐使用)==========*/
/*================优点:效率高,安全=================*/
    $mysqli=new MySQLi("localhost","root","123456","xiaoqiangdb");
      
      
/*==================非sel&#101;ct语句==================*/
      
    $sql="ins&#101;rt into shops(name,price,num,desn) values(?,?,?,?)";    //准备一条语句放到服务器中
      
    $stmt=$mysqli->prepare($sql);    //放到数据库</p>
<p>    $stmt->bind_param(&#8220;sdis&#8221;,$name,$price,$num,$desn);  //给占位符传值,类型-变量(不能是值)</p>
<p>    $name=&#8221;zhangsan&#8221;;<br />
    $price=56.56;<br />
    $num=66;<br />
    $desn=&#8221;good&#8221;;</p>
<p>    $stmt->execute();    //执行</p>
<p>    echo &#8220;最后ID&#8221;.$stmt->ins&#101;rt_id;<br />
    $stmt->close();</p>
<p>/*=================sel&#101;ct语句=================*/</p>
<p>    $sql=&#8221;sel&#101;ct id,name,price,num,desn from shops wh&#101;re id>?&#8221;;    //准备一条语句放到服务器中</p>
<p>    $stmt=$mysqli->prepare($sql);    //放到数据库</p>
<p>    $stmt->bind_param(&#8220;i&#8221;,$id);  //给占位符传值,类型-变量(不能是值)</p>
<p>    $stmt->bind_result($id,$name,$price,$num,$desn);    //绑定结果集</p>
<p>    $id=99;</p>
<p>    $stmt->execute();    //执行</p>
<p>    $stmt->store_result();    //一次性讲结果都取过来,才能移动指针和获取总数</p>
<p>    //字段信息<br />
    $result=$stmt->result_metadata();</p>
<p>    while($field=$result->fetch_field()){<br />
        echo $field->name;<br />
    }<br />
    echo &#8220;<br />&#8220;;</p>
<p>    //记录信息<br />
    $stmt->data_seek(2);    </p>
<p>    while($stmt->fetch()){<br />
        echo &#8220;$id&#8211;$name&#8211;$price&#8211;$num&#8211;$desn<br />&#8220;;<br />
    }<br />
    echo &#8220;记录总数:&#8221;.$stmt->num_rows;</p>
<p>    $stmt->free_result();</p>
<p>    $stmt->close();</p>
<p>?></p>
<p>事务处理：</p>
<p><?php
/*=======================事务处理======================*/
//建表时要使用InnoDB(type=InnoDB)
    $mysqli=new MySQLi(“localhost”,”root”,”",”xiaoqiangdb”);
   
    //$mysqli->set_charset(“utf8″);    //设置字符集</p>
<p>    $mysqli->autocommit(0);  //关闭自动提交</p>
<p>    $error=true;<br />
    $price=50;<br />
    $sql=”Up&#100;ate zhanghaodb set yue=yue-{$price} wh&#101;re name=’zhangsan’”;<br />
    $result=$mysqli->query($sql);</p>
<p>    if(!$result){<br />
        $error=false;<br />
        echo “从张三转出失败<br />”;<br />
    }else{<br />
        if($mysqli->affected_rows==0){<br />
            $error=false;<br />
            echo “张三的钱没有变化”;<br />
        }else{<br />
            echo “张三的钱转出成功<br />”;<br />
        }<br />
    }</p>
<p>    $sql=”Up&#100;ate zhanghaodb set yue=yue+{$price} wh&#101;re name=’lisi’”;<br />
    $result=$mysqli->query($sql);</p>
<p>    if(!$result){<br />
        $error=false;<br />
        echo “从李四转入失败<br />”;<br />
    }else{<br />
        if($mysqli->affected_rows==0){<br />
            $error=false;<br />
            echo “李四的钱没有变化”;<br />
        }else{<br />
            echo “李四的钱转入成功<br />”;<br />
        }<br />
    }</p>
<p>    if($error){<br />
        echo “转账成功!”;<br />
    }else{<br />
        echo “转账失败!”;<br />
        $mysqli->rollback();    //回滚<br />
    }</p>
<p>    $mysqli->autocommit(1);    //开启自动提交<br />
    $mysqli->close();<br />
?></p>
<p>一次执行多条SQL语句：</p>
<p><?php
$mysqli=new MySQLi(“localhost”,”root”,”",”xiaoqiangdb”);
   
    /*======没有结果集:ins&#101;rt up&#100;ate del&#101;te======*/
    $sqls=”ins&#101;rt into shops(name,price,num,desn) values(‘book1′,’12.16′,’5′,’good’);”;
    $sqls.=”up&#100;ated shops set name=’testname’ wh&#101;re id>50;”;<br />
    $sqls.=”del&#101;te from shops wh&#101;re id < 20″;
   
    if($mysqli->multi_query($sqls)){<br />
        echo “多条语句执行成功!<br />”;<br />
        echo “最后插入的ID:”.$mysqli->ins&#101;rt_id.”<br />”;<br />
        //echo “影响的行数:”.$mysqli->affected_rows;  //不准确!<br />
    }else{<br />
        echo “ERROR”.$mysqli->errno.”—”.$mysqli->error;<br />
    }</p>
<p>    /*===========有结果集:sel&#101;ct===========*/<br />
    $sqls=”sel&#101;ct current_user();”;<br />
    $sqls.=”desc shops;”;<br />
    $sqls.=”sel&#101;ct * fron shops”;</p>
<p>    if($mysqli->multi_query($sqls)){<br />
        echo “多条语句执行成功!<br />”;<br />
        do{<br />
            $result=$mysqli->store_result();   //获取结果集</p>
<p>            echo ‘<br />
<table border=”1″ align=”center”>’;<br />
            echo ‘<br />
<tr>’;<br />
            while($field=$result->fetch_field()){<br />
                echo ‘
<th>’.$field->name.’</th>
<p>’;<br />
            }<br />
            echo ‘</tr>
<p>’;</p>
<p>            while($row=$result->fetch_assoc()){<br />
                echo ‘<br />
<tr>’;<br />
                foreach($row as $col){<br />
                    echo ‘
<td>’.$col.’ </td>
<p>’;<br />
                }<br />
                echo ‘</tr>
<p>’;<br />
            }<br />
            echo ‘</table>
<p>’;</p>
<p>            if($mysqli->more_results()){   //判断还有没有结果集<br />
                echo “</p>
<p>”;<br />
            }</p>
<p>        }while($mysqli->next_result());    //取得下一个结果集<br />
    }else{<br />
        echo “ERROR”.$mysqli->errno.”—”.$mysqli->error;<br />
    }</p>
<p>    $mysqli->close();<br />
?></p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2011/190.html" rel="bookmark"><time class="entry-date published" datetime="2011-07-19T23:16:50+00:00">2011年7月19日</time><time class="updated" datetime="2011-07-19T11:18:00+00:00">2011年7月19日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2011/190.html#respond"><span class="screen-reader-text">于在php中使用mysqli中的预处理和事务处理语句操作MySql</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-188" class="post-188 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2011/188.html" rel="bookmark">15本Web开发人员应该拥有的免费电子书籍</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　当今互联网已经成为每一个人的信息知识来源。假如你想学习任何事情，可以很容易在互联网上轻松找到相关的信息，即使它是很简单的事情。在互联网上有成千上万的教程和指南可以用来学习与工作相关的技术和内容。 </p>
<p>　　Web开发人员同样也经常通过互联网获取关于HTML和编码的相关知识。为了帮助这些开发人员，以下是我们收集的一些优秀电子书供大家学习。 </p>
<p>1. HTML5 Quick Learning Guide </p>
<p>如果您想学习HTML5，这本电子书将帮助您学习所有HTML5的基本标签元素。</p>
<p>2. Head First HTML with CSS and XHTML </p>
<p>有了这本电子书，你可以使用HTML和CSS技术轻松地创建基于标准的网页。</p>
<p>3. Best Practices for Developing a Web Site </p>
<p>这是一个很好的电子书，将引导你建立一个网站和计划项目，无论你正在开发一个内部网站或外包项目。</p>
<p>4. HTML Wtf? </p>
<p>这本书简要概述了由HTML5带来的变化。</p>
<p>5. HTML And XHTML </p>
<p>一个了解HTML和XHTML的简单而全面的指南。</p>
<p>6. Javascript Programming for The Absolute Beginner </p>
<p>对JavaScript不了解？不要担心，这本书将帮助你学习JavaScript，即使你不知道任何关于JavaScript的知识。</p>
<p>7. Dive into Accessibility </p>
<p>这本电子书回答了一些关于如何建设一个网站的简单问题。</p>
<p>8. Getting Real</p>
<p>这本电子书介绍了在建设一个网站时需要注意的一些问题。</p>
<p>9. Web Design in a Nutshell </p>
<p>这本书包含了CSS与XHTML编码和Web设计所有相关的信息。</p>
<p>10. Foundations of Ajax </p>
<p>本书介绍了Ajax技术到现有应用或新开发应用程序所需要所有工具。</p>
<p>11. Up to Speed on HTML5 and CSS 3 </p>
<p>介绍关于新兴的HTML5和CSS3标准。</p>
<p>12. Learning PHP 5 </p>
<p>这本将帮助你学习PHP5拥有的一些高级功能，如面向对象功能和对XML与Web Services的支持等。</p>
<p>13. 20 Things I Learned about Browsers and The Web </p>
<p>这本书包含了所有你想了解的关于网站、Cookie和历史记录等知识。</p>
<p>14. Web Style Guide: 3rd Edition </p>
<p>这本书将告诉你如何使你的网站更容易让大家使用。</p>
<p>15. Essential Javascript and JQuery Design Patterns </p>
<p>通过这本电子书，你将学习到如何使用Javascript和jQuery设计模式。</p>
<p>　　有时间再帮大家收集下载地址。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2011/188.html" rel="bookmark"><time class="entry-date published" datetime="2011-07-17T10:06:15+00:00">2011年7月17日</time><time class="updated" datetime="2011-07-17T10:07:00+00:00">2011年7月17日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2011/188.html#respond"><span class="screen-reader-text">于15本Web开发人员应该拥有的免费电子书籍</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-185" class="post-185 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2011/185.html" rel="bookmark">刷百度下拉框的关键词的一些技巧</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>百度下拉框百度下推荐菜单地效果。这中间有一些技巧：</p>
<p>所以在设置引导关键词得时候用：关键词+品牌词公司名称-特定字符或号码地形式。<br />
1．词得排序：关键词排前面品牌词公司名放后面这是百度下拉框词条得最基本得特征。只有这一步做对了才有可能出现在百度下拉框。但是量太少了也不行<br />
2．有得人认为刷新次数越多就越好。这其实是一个错误地想法因为这存在一个过量地问题。因为这样得话百度就认为关注度不高当然不会推荐进去至于如何掌握正确地量这里就不多说了这不是一两句话说地清楚的，自己也做优化有一段时间了有一些经验之谈也有实际地案例，有兴趣可以咨询。量要把握适中。</p>
<p>就算好不容易做上去了对推广自身地业务也没很大地帮助所以在选词得时候不要太主观地去选择一些搜索量大得词和关注度高地词，<br />
3．选词：劝大家一句。有地词难度大做上去不容易。这些词搜索量是大但是搜索这些词得人能成为您地客户得比例却很少，这样就发了精力却又得不到好得效果，举个例子：比如你一家济宁的网络公司如果济宁这个词得搜索量是大，但是搜济宁这个词得又有多少是来找网络方面地服务地呢，所以在选词方面一定要站在客户地角度或者说把你自己当做一个你得客户当你需要这样地产品或服务得时候，会怎么去搜索这样就更有针对性!但，4月份改版后，刷的多，反而百度不让出现了，可见百度增加了个观察期。也就是点击量太大，就会进入观察期。所以这也是为什么部分客户在我跟他设置点击量的时候说不要设置太多的原因。<br />
那么，如何设置呢？<br />
第一种方法、根据指数比例设置。<br />
首先，我们要了解我们要刷的词每天到底有多少人在搜索。<br />
例如，我们要做养猪这个词，那么，先打开:<br />
http://index.baidu.com ，输入百度下拉框、百度相关搜索淡淡的的点点滴滴的摆动相关搜索，鼠标移动到上面，可以看到每日的指数。<br />
指数就是每天有多少人在搜索。从指数中，发现：百度下拉框、百度相关搜索这个词，一天大概是300多人搜索。<br />
第一种方法：用300指数乘以 30% -50% 的比例去设置，即点击数设置为 150 &#8211; 250 。<br />
第二种方法、根据主词已存在的相关词的指数设置。<br />
我们要了解下，他的相关搜索词，有多少指数。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2011/185.html" rel="bookmark"><time class="entry-date published" datetime="2011-07-07T11:56:42+00:00">2011年7月7日</time><time class="updated" datetime="-001-11-30T00:00:00+00:00">-0001年11月30日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2011/185.html#respond"><span class="screen-reader-text">于刷百度下拉框的关键词的一些技巧</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-184" class="post-184 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2011/184.html" rel="bookmark">Apache 虚拟目录配置方法</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>在httpd.conf中添加：<br />
[html]Alias /pic &#8220;D:/server/wamp/www/pic/&#8221;<br />
&lt;Directory &#8220;D:/server/wamp/www/pic/&#8221;&gt;<br />
    Options Indexes FollowSymLinks MultiViews<br />
    AllowOverride all<br />
    o&#114;der allow,deny<br />
    Allow from all<br />
&lt;/Directory&gt; [/html]或者将以上代码保存到一个配置文件中，放到alias目录下，然后在httpd.conf中添加Include &#8220;D:/server/wamp/alias/*&#8221;<br />
　　以上方法设置的虚拟目录是全局的，所有站点都有效，如果要针对某个站点，要把代码写到相应的&lt;VirtualHost &gt;节点中。<br />
　　注意事项：虚拟目录后面不能加斜线“/”。否则会无法找到。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2011/184.html" rel="bookmark"><time class="entry-date published" datetime="2011-02-28T16:28:03+00:00">2011年2月28日</time><time class="updated" datetime="2013-12-23T07:42:00+00:00">2013年12月23日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2011/184.html#respond"><span class="screen-reader-text">于Apache 虚拟目录配置方法</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-183" class="post-183 post type-post status-publish format-standard hentry category-web_development">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="/blog/2011/183.html" rel="bookmark">Apache VirtualHost 虚拟主机配置方法</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>　　这几天在捣鼓PHP，第一件事就是配置Apache环境，期间并不是很顺利，所以将最终结果记录下来，以便哪天忘了可以再次参考。<br />
　　系统环境：Windows Server 2008，WAMPServer 2.1（包含Apache 2.2.17）。<br />
　　先打开Apache安装目录，然后按下面方法配置：<br />
　　1、编辑conf目录下的httpd.conf文件，查找Include conf/extra/httpd-vhosts.conf，把前面注释符号“#”删掉。<br />
　　2、编辑conf/extra/httpd-vhosts.conf，添加如下代码<br />
[html]&lt;VirtualHost *:80&gt;<br />
    ServerAdmin webmaster@yourdomain.com<br />
    DocumentRoot &#8220;D:/site/work/wwwroot/&#8221;<br />
    ServerName test.my<br />
    ErrorLog &#8220;logs/test_e.log&#8221;<br />
    CustomLog &#8220;logs/test.log&#8221; common<br />
&lt;/VirtualHost&gt;</p>
<p>&lt;VirtualHost *:80&gt;<br />
    ServerAdmin webmaster@yourdomain.com<br />
    DocumentRoot &#8220;D:/server/wamp/www/&#8221;<br />
    ServerName localhost<br />
    ServerAlias work.my<br />
    ErrorLog &#8220;logs/localhost_e.log&#8221;<br />
    CustomLog &#8220;logs/localhost.log&#8221; common<br />
&lt;/VirtualHost&gt;<br />
[/html]也可将代码直接加在httpd.conf中<br />
　　以上文件配置了两个虚拟主机，也就是常说的站点。<br />
　　解释下几个参数：NameVirtualHost *:80和中 的*为当前服务器IP，如果有固定IP可以用IP把*替换掉；ServerName这个是主域名，DocumentRoot是该站点对应的根目录；ServerAlias可以用来绑定更多的域名。未绑定的域名会默认解析到到一个站点上。<br />
　　如果站点目录所在磁盘分区是NTFS格式，光有这个文件还不行，访问站点test.my时会出现403错误，还需要编辑httpd.conf文件来开启权限<br />
　　找到&lt;Directory &#8220;D:/server/wamp/www/&#8221;&gt;代码若干&lt;/Directory&gt;<br />
（我WAMP安装在D:/server/wamp下），在这个节点后面加上：[html]&lt;Directory &#8220;D:/site/work/wwwroot&#8221;&gt;<br />
    #Options Indexes FollowSymLinks<br />
    AllowOverride all<br />
    o&#114;der Allow,Deny<br />
    Allow from all<br />
&lt;/Directory&gt;[/html]其中options indexs FollowSymLinks选项是当无默认文档时允许列出站点文件列表。<br />
　　保存后重启Apache服务。至此，大功告成。</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=49&#038;d=mm&#038;r=g' srcset='//2.gravatar.com/avatar/b9f7391bdaee9d0a30a3fda8ddd6436e?s=98&amp;d=mm&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">作者 </span> <a class="url fn n" href="/blog/author/lee">Lee</a></span></span><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="/blog/2011/183.html" rel="bookmark"><time class="entry-date published" datetime="2011-02-28T16:12:45+00:00">2011年2月28日</time><time class="updated" datetime="2013-12-24T04:04:00+00:00">2013年12月24日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="/blog/category/web_development" rel="category tag">网站技术</a></span><span class="comments-link"><a href="/blog/2011/183.html#respond"><span class="screen-reader-text">于Apache VirtualHost 虚拟主机配置方法</span>留下评论</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

	<nav class="navigation pagination" role="navigation">
		<h2 class="screen-reader-text">文章导航</h2>
		<div class="nav-links"><a class="prev page-numbers" href="/blog/category/web_development/page/6">上一页</a>
<a class='page-numbers' href='/blog/category/web_development'><span class="meta-nav screen-reader-text">页 </span>1</a>
<span class="page-numbers dots">&hellip;</span>
<a class='page-numbers' href='/blog/category/web_development/page/6'><span class="meta-nav screen-reader-text">页 </span>6</a>
<span class='page-numbers current'><span class="meta-nav screen-reader-text">页 </span>7</span>
<a class='page-numbers' href='/blog/category/web_development/page/8'><span class="meta-nav screen-reader-text">页 </span>8</a>
<span class="page-numbers dots">&hellip;</span>
<a class='page-numbers' href='/blog/category/web_development/page/14'><span class="meta-nav screen-reader-text">页 </span>14</a>
<a class="next page-numbers" href="/blog/category/web_development/page/8">下一页</a></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-2" class="widget widget_search">
<form role="search" method="get" class="search-form" action="/">
	<label>
		<span class="screen-reader-text">搜索：</span>
		<input type="search" class="search-field" placeholder="搜索…" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">搜索</span></button>
</form>
</section>		<section id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">近期文章</h2>		<ul>
					<li>
				<a href="/blog/2016/307.html">curl与file_get_contents访问远程接口慢的解决</a>
						</li>
					<li>
				<a href="/blog/2016/306.html">PHP中Notice: iconv(): Unknown error (84) 的解决办法</a>
						</li>
					<li>
				<a href="/blog/2016/305.html">微信大文件的清理</a>
						</li>
					<li>
				<a href="/blog/2015/304.html">博客貌似被黑了，有空换PHP的</a>
						</li>
					<li>
				<a href="/blog/2014/303.html">使用socket方式连接Nginx优化php-fpm性能</a>
						</li>
				</ul>
		</section>		<section id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widget-title">近期评论</h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">七月的路人甲</span>发表在《<a href="/blog/2007/57.html#comment-113">看《西游记》悟团队建设</a>》</li><li class="recentcomments"><span class="comment-author-link">七月的路人甲</span>发表在《<a href="/blog/2007/58.html#comment-112">讯时2.70漏洞－对讯时新闻发布系统的艰难突破</a>》</li><li class="recentcomments"><span class="comment-author-link">sunchili</span>发表在《<a href="/blog/2012/208.html#comment-111">VideoShot.exe停止工作的解决办法</a>》</li><li class="recentcomments"><span class="comment-author-link">嫁给风的女孩</span>发表在《<a href="/blog/2012/207.html#comment-109">Jinitiator控件IE崩溃及Jinitiator界面汉字方框的解决办法</a>》</li><li class="recentcomments"><span class="comment-author-link">李三</span>发表在《<a href="/blog/2013/240.html#comment-108">商务领航定制网关(EG692HW)电信管理员密码获取方法</a>》</li></ul></section><section id="archives-2" class="widget widget_archive"><h2 class="widget-title">文章归档</h2>		<ul>
			<li><a href='/blog/date/2016/01'>2016年一月</a></li>
	<li><a href='/blog/date/2015/09'>2015年九月</a></li>
	<li><a href='/blog/date/2014/11'>2014年十一月</a></li>
	<li><a href='/blog/date/2014/10'>2014年十月</a></li>
	<li><a href='/blog/date/2014/07'>2014年七月</a></li>
	<li><a href='/blog/date/2014/06'>2014年六月</a></li>
	<li><a href='/blog/date/2014/05'>2014年五月</a></li>
	<li><a href='/blog/date/2014/04'>2014年四月</a></li>
	<li><a href='/blog/date/2014/03'>2014年三月</a></li>
	<li><a href='/blog/date/2014/02'>2014年二月</a></li>
	<li><a href='/blog/date/2014/01'>2014年一月</a></li>
	<li><a href='/blog/date/2013/12'>2013年十二月</a></li>
	<li><a href='/blog/date/2013/09'>2013年九月</a></li>
	<li><a href='/blog/date/2013/08'>2013年八月</a></li>
	<li><a href='/blog/date/2013/07'>2013年七月</a></li>
	<li><a href='/blog/date/2013/06'>2013年六月</a></li>
	<li><a href='/blog/date/2013/05'>2013年五月</a></li>
	<li><a href='/blog/date/2013/04'>2013年四月</a></li>
	<li><a href='/blog/date/2012/12'>2012年十二月</a></li>
	<li><a href='/blog/date/2012/11'>2012年十一月</a></li>
	<li><a href='/blog/date/2012/09'>2012年九月</a></li>
	<li><a href='/blog/date/2012/08'>2012年八月</a></li>
	<li><a href='/blog/date/2012/07'>2012年七月</a></li>
	<li><a href='/blog/date/2012/06'>2012年六月</a></li>
	<li><a href='/blog/date/2012/05'>2012年五月</a></li>
	<li><a href='/blog/date/2012/04'>2012年四月</a></li>
	<li><a href='/blog/date/2012/03'>2012年三月</a></li>
	<li><a href='/blog/date/2012/01'>2012年一月</a></li>
	<li><a href='/blog/date/2011/11'>2011年十一月</a></li>
	<li><a href='/blog/date/2011/09'>2011年九月</a></li>
	<li><a href='/blog/date/2011/08'>2011年八月</a></li>
	<li><a href='/blog/date/2011/07'>2011年七月</a></li>
	<li><a href='/blog/date/2011/02'>2011年二月</a></li>
	<li><a href='/blog/date/2010/09'>2010年九月</a></li>
	<li><a href='/blog/date/2010/08'>2010年八月</a></li>
	<li><a href='/blog/date/2010/07'>2010年七月</a></li>
	<li><a href='/blog/date/2010/06'>2010年六月</a></li>
	<li><a href='/blog/date/2009/12'>2009年十二月</a></li>
	<li><a href='/blog/date/2009/10'>2009年十月</a></li>
	<li><a href='/blog/date/2009/08'>2009年八月</a></li>
	<li><a href='/blog/date/2009/06'>2009年六月</a></li>
	<li><a href='/blog/date/2009/05'>2009年五月</a></li>
	<li><a href='/blog/date/2009/04'>2009年四月</a></li>
	<li><a href='/blog/date/2009/03'>2009年三月</a></li>
	<li><a href='/blog/date/2009/01'>2009年一月</a></li>
	<li><a href='/blog/date/2008/12'>2008年十二月</a></li>
	<li><a href='/blog/date/2008/11'>2008年十一月</a></li>
	<li><a href='/blog/date/2008/10'>2008年十月</a></li>
	<li><a href='/blog/date/2008/09'>2008年九月</a></li>
	<li><a href='/blog/date/2008/08'>2008年八月</a></li>
	<li><a href='/blog/date/2008/07'>2008年七月</a></li>
	<li><a href='/blog/date/2008/06'>2008年六月</a></li>
	<li><a href='/blog/date/2008/04'>2008年四月</a></li>
	<li><a href='/blog/date/2008/02'>2008年二月</a></li>
	<li><a href='/blog/date/2007/12'>2007年十二月</a></li>
	<li><a href='/blog/date/2007/11'>2007年十一月</a></li>
	<li><a href='/blog/date/2007/10'>2007年十月</a></li>
	<li><a href='/blog/date/2007/09'>2007年九月</a></li>
	<li><a href='/blog/date/2007/08'>2007年八月</a></li>
	<li><a href='/blog/date/2007/07'>2007年七月</a></li>
	<li><a href='/blog/date/2007/06'>2007年六月</a></li>
	<li><a href='/blog/date/2007/05'>2007年五月</a></li>
	<li><a href='/blog/date/2007/04'>2007年四月</a></li>
		</ul>
		</section><section id="categories-2" class="widget widget_categories"><h2 class="widget-title">分类目录</h2>		<ul>
	<li class="cat-item cat-item-16"><a href="/blog/category/dotnet" >.Net</a>
</li>
	<li class="cat-item cat-item-8"><a href="/blog/category/pc_technology" >PC技术</a>
</li>
	<li class="cat-item cat-item-11"><a href="/blog/category/entertainment" >影音娱乐</a>
</li>
	<li class="cat-item cat-item-15"><a href="/blog/category/database" >数据库</a>
</li>
	<li class="cat-item cat-item-14"><a href="/blog/category/digest" >文摘</a>
</li>
	<li class="cat-item cat-item-13"><a href="/blog/category/orther" >杂货铺</a>
</li>
	<li class="cat-item cat-item-7"><a href="/blog/category/management" >管理营运</a>
</li>
	<li class="cat-item cat-item-9 current-cat"><a href="/blog/category/web_development" >网站技术</a>
</li>
	<li class="cat-item cat-item-3"><a href="/blog/category/network" >网络安全</a>
</li>
	<li class="cat-item cat-item-4"><a href="/blog/category/life" >网络生活</a>
</li>
		</ul>
</section><section id="meta-2" class="widget widget_meta"><h2 class="widget-title">功能</h2>			<ul>
						<li><a href="/wp-login.php">登录</a></li>
			<li><a href="/feed">文章<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="/comments/feed">评论<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://cn.wordpress.org/" title="基于WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>			</ul>
			</section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="页脚主菜单">
					<div class="menu-%e5%af%bc%e8%88%aa-container"><ul id="menu-%e5%af%bc%e8%88%aa-1" class="primary-menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-menu-item menu-item-309"><a href="/blog/category/web_development">网站技术</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-310"><a href="/blog/category/pc_technology">PC技术</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-311"><a href="/blog/category/orther">杂货铺</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-312"><a href="/blog/category/entertainment">影音娱乐</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-313"><a href="/blog/category/life">网络生活</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-314"><a href="/blog/category/digest">文摘</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-315"><a href="/blog/category/database">数据库</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-316"><a href="/blog/category/network">网络安全</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-317"><a href="/blog/category/management">管理营运</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-318"><a href="/blog/category/dotnet">.Net</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-323"><a href="/about_me">关于我</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="/" rel="home">网站建设技术集锦</a></span>
				<a href="https://cn.wordpress.org/">自豪地采用WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"\u5c55\u5f00\u5b50\u83dc\u5355","collapse":"\u6298\u53e0\u5b50\u83dc\u5355"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/functions.js?ver=20160816'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6'></script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?6b862532551ab821a572e486bca05514";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</body>
</html>
